{"version":3,"sources":["util/route_util.js","util/session_api_util.js","actions/session_actions.js","actions/search_actions.js","components/search/form_date_range.jsx","actions/spots_actions.js","util/spots_api_util.js","components/search/form_date_range_container.js","components/search/form_guest_count.jsx","components/search/form_guest_count_container.js","components/search/form_price_range.jsx","components/search/form_price_range_container.js","components/search/form_options.jsx","components/search/auto_complete.jsx","components/search/auto_complete_container.js","components/nav/logged_in_nav_menu.jsx","components/nav/logged_in_nav_menu_container.js","components/session/signup_form.js","components/session/signup_form_container.js","components/session/login_form.js","components/session/login_form_container.js","components/nav/logged_out_nav_menu.jsx","components/nav/logged_out_nav_menu_container.js","components/nav/navbar.js","components/nav/navbar_container.js","components/footer/footer.jsx","components/main/main_page.js","components/spots/spot_index_item.jsx","util/marker_manager.js","components/map/spot_map.jsx","components/map/spot_map_container.js","components/spots/spots.js","components/spots/spots_container.js","actions/bookings_actions.js","util/bookings_api_util.js","components/spots/reservation_form.js","components/spots/reservation_form_container.js","components/spots/spot_show.js","components/spots/spot_container.js","components/profile/profile.jsx","components/profile/profile_container.js","components/app.js","components/root.js","reducers/session_reducer.js","reducers/session_errors_reducer.js","reducers/bookings_errors_reducer.js","reducers/errors_reducer.js","reducers/spots_reducer.js","reducers/bookings_reducer.js","reducers/entities_reducer.js","reducers/users_reducer.js","reducers/active_search_reducer.js","reducers/ui_reducer.js","reducers/root_reducer.js","store/store.js","index.js"],"names":["mapStateToProps","state","loggedIn","session","isAuthenticated","ProtectedRoute","withRouter","connect","_ref","Component","component","path","exact","react_default","a","createElement","react_router","render","props","to","_ref2","rest","Object","objectWithoutProperties","assign","setAuthToken","token","axios","defaults","headers","common","receiveErrors","errors","type","signup","user","dispatch","userData","post","then","res","_res$data","data","name","localStorage","setItem","APIUtil","decoded","jwt_decode","username","currentUser","catch","err","response","login","_res$data2","logout","removeItem","receiveSearchStatus","active","receiveBounds","bounds","receiveLocation","location","receiveMapIsActive","mapIsActive","FormDateRange","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","startDate","activeSearch","endDate","modal","document","getElementById","guestModal","priceModal","classList","contains","remove","toggle","e","preventDefault","receiveDateRange","toggleModal","setState","_this2","className","onClick","id","react_dates","startDateId","endDateId","onDatesChange","focusedInput","onFocusChange","clearDateRange","applyDateRange","React","receiveSpots","spots","fetchSpots","console","log","fetchSpot","get","concat","spot","ui","dateRange","options","FormGuestCount","adults","guestCount","children","infants","applyGuestCount","bind","assertThisInitialized","stateKey","value","defineProperty","addAdults","dateModal","receiveGuestCount","decrementValue","incrementValue","clearGuestCount","count","FormPriceRange","minValue","priceRange","maxValue","changeValues","values","receivePriceRange","Slider_default","min","max","onValuesUpdated","clearPriceRange","applyPriceRange","FormOptions","form_date_range_container","form_guest_count_container","form_price_range_container","Switch_default","onChange","checked","google","window","AutoComplete","handleChange","address","handleSelect","map","preventFetch","geocodeByAddress","results","getLatLng","lat","lng","locationObj","maps","LatLng","panTo","activateSearch","latLng","error","prevProps","_","isEqual","markerManager","MarkerManager","updateMarkers","inputEl","searchText","history","pathname","push","form_options","dist_default","onSelect","getInputProps","suggestions","getSuggestionItemProps","loading","onSubmit","placeholder","suggestion","style","backgroundColor","cursor","description","entities","LoggedInNavMenu","logoutUser","linkToProfile","SignupForm","email","handle","password","password2","handleSubmit","renderFieldErrors","clearedErrors","nextProps","signedIn","field","currentTarget","_this3","keys","i","key","_this4","update","handleClick","isSignedIn","LoginForm","guestLogIn","LoggedOutNavMenu","activeModal","split","closeModal","toggleOverlay","openModal","add","signup_form_container","login_form_container","NavBar","getMenuOptions","linkToMainPage","logged_in_nav_menu_container","logged_out_nav_menu_container","auto_complete_container","Footer","href","target","MainPage","rotateImage","image","setTimeout","setAttribute","alt","footer_footer","SpotIndexItem","react_router_dom","_id","src","images","img_url","price","markers","removeMarker","updateInfoWindow","infoWindow","InfoWindow","spotsObj","forEach","filter","spotId","newSpot","createMarkerFromSpot","marker","setMap","content","setContent","open","position","contentString","Marker","label","text","fontSize","fontWeight","color","addListener","SpotMap","mapOptions","center","searchParams","zoom","refs","Map","mapBounds","getBounds","southWest","getSouthWest","northEast","getNorthEast","sw","ne","getCenter","prevState","ref","Spots","outerSpotsDiv","list","spot_map_container","length","spot_index_item_SpotIndexItem","isMapActive","receiveBookings","bookings","fetchUserBookings","user_id","fetchSpotBookings","spot_id","createBooking","receiveBookingErrors","deleteBooking","delete","booking","receiveDeletedBooking","moment","require","ReservationForm","guest_count","response_messages","isDayBlocked","messages","body","day","calendarDay","calendar","result","String","month","date","year","startDay","start_date","endDay","end_date","CstartDay","CendDay","temp","bookingInfo","status","renderResponseMessages","ownProps","SpotShow","city","occupancy","reservation_form_container","match","params","Profile","currentUserId","undefined","bookingsLis","Date","createdAt","created_at","imgUrl","getMonth","getDate","getFullYear","App","navbar_container","SpotsContainer","SpotContainer","ProfileContainer","Root","store","es","app","initialState","_nullErrors","SessionErrorsReducer","arguments","action","freeze","BookingsErrorsReducer","combineReducers","SpotsReducer","BookingsReducer","newState","merge","EntitiesReducer","users","userCurrent","defaultState","ActiveSearchReducer","UIReducer","RootReducer","objectSpread","session_id","configureStore","preloadedState","createStore","rootReducer","applyMiddleware","thunk","ThemedStyleSheet","registerInterface","cssInterface","registerTheme","RheostatDefaultTheme","ReactDatesDefaultTheme","addEventListener","jwtToken","decodedUser","currentTime","now","exp","root","ReactDOM","components_root"],"mappings":"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","file":"static/js/main.e19a6dff.chunk.js","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport { Route, Redirect, withRouter } from 'react-router-dom';\n\nconst Auth = ({ component: Component, path, loggedIn, exact }) => (\n  <Route path={path} exact={exact} render={(props) => (\n    !loggedIn ? (\n      <Component {...props} />\n    ) : (\n        <Redirect to=\"/spots\" /> \n      )\n  )} />\n);\n\nconst Protected = ({ component: Component, loggedIn, ...rest }) => (\n  <Route\n    {...rest}\n    render={props =>\n      loggedIn ? (\n        <Component {...props} />\n      ) : (\n          <Redirect to=\"/spots\" />\n        )\n    }\n  />\n);\n\nconst mapStateToProps = state => (\n  { loggedIn: state.session.isAuthenticated }\n);\n\nexport const AuthRoute = withRouter(connect(mapStateToProps)(Auth));\nexport const ProtectedRoute = withRouter(connect(mapStateToProps)(Protected));","import axios from 'axios';\n\nexport const setAuthToken = token => {\n  if (token) {\n    axios.defaults.headers.common['Authorization'] = token;\n  } else {\n    delete axios.defaults.headers.common['Authorization'];\n  }\n};\n\nexport const signup = (userData) => {\n  return axios.post('/api/users/register', userData);\n};\n\nexport const login = (userData) => {\n  return axios.post('/api/users/login', userData);\n};","import * as APIUtil from '../util/session_api_util';\nimport jwt_decode from 'jwt-decode';\n\nexport const RECEIVE_CURRENT_USER = \"RECEIVE_CURRENT_USER\";\nexport const RECEIVE_SESSION_ERRORS = \"RECEIVE_SESSION_ERRORS\";\nexport const RECEIVE_USER_LOGOUT = \"RECEIVE_USER_LOGOUT\";\nexport const RECEIVE_USER_SIGN_IN = \"RECEIVE_USER_SIGN_IN\";\n\nexport const receiveCurrentUser = currentUser => {\n\n  return {\n  type: RECEIVE_CURRENT_USER,\n  currentUser\n  };\n};\n\nexport const receiveUserSignIn = (currentUser) => {\n  \n  return {type: RECEIVE_USER_SIGN_IN,\n  currentUser\n  };\n};\n\nexport const receiveErrors = errors => ({\n  type: RECEIVE_SESSION_ERRORS,\n  errors\n});\n\nexport const logoutUser = () => ({\n  type: RECEIVE_USER_LOGOUT\n});\n\nexport const signup = user => dispatch =>\n  APIUtil.signup(user).then(res => {\n    const { token, name } = res.data;\n    localStorage.setItem('jwtToken', token);\n    localStorage.setItem('currentUser', name);\n    APIUtil.setAuthToken(token);\n    const decoded = { token: jwt_decode(token) };\n    decoded.username = name;\n    dispatch(receiveUserSignIn(decoded));\n  })\n    .catch(err => {\n      dispatch(receiveErrors(err.response.data));\n    });\n\nexport const login = user => dispatch => (\n  APIUtil.login(user).then(res => {\n    const { token, name } = res.data;\n    localStorage.setItem('jwtToken', token);\n    localStorage.setItem('currentUser', name);\n    APIUtil.setAuthToken(token);\n    const decoded = {token: jwt_decode(token)};\n    decoded.username = name;\n    dispatch(receiveCurrentUser(decoded));\n  })\n    .catch(err => {\n      dispatch(receiveErrors(err.response.data));\n    })\n);\n\nexport const logout = () => dispatch => {\n  localStorage.removeItem('jwtToken');\n  APIUtil.setAuthToken(false);\n  dispatch(logoutUser());\n};","export const RECEIVE_DATE_RANGE = \"RECEIVE_DATE_RANGE\";\nexport const RECEIVE_GUEST_COUNT = \"RECEIVE_GUEST_COUNT\";\nexport const RECEIVE_PRICE_RANGE = \"RECEIVE_PRICE_RANGE\";\nexport const RECEIVE_SEARCH_STATUS = 'RECEIVE_SEARCH_STATUS';\nexport const RECEIVE_BOUNDS = 'RECEIVE_BOUNDS';\nexport const RECEIVE_LOCATION = 'RECEIVE_LOCATION';\nexport const RECEIVE_MAP_IS_ACTIVE = 'RECEIVE_MAP_IS_ACTIVE';\n\nexport const receiveDateRange = (dateRange) => {\n  return {\n    type: RECEIVE_DATE_RANGE,\n    dateRange\n  }\n};\n\nexport const receiveGuestCount = (count) => ({\n  type: RECEIVE_GUEST_COUNT,\n  count\n});\n\nexport const receivePriceRange = (priceRange) => ({\n  type: RECEIVE_PRICE_RANGE,\n  priceRange\n});\n\nexport const receiveSearchStatus = (active) => ({\n  type: RECEIVE_SEARCH_STATUS,\n  active\n});\n\nexport const receiveBounds = (bounds) => ({\n  type: RECEIVE_BOUNDS,\n  bounds\n});\n\nexport const receiveLocation = (location) => ({\n  type: RECEIVE_LOCATION,\n  location\n});\n\nexport const receiveMapIsActive = (mapIsActive) => ({\n  type: RECEIVE_MAP_IS_ACTIVE,\n  mapIsActive\n});\n","import React from 'react';\nimport { DateRangePicker } from 'react-dates';\nimport 'react-dates/lib/css/_datepicker.css';\nimport './form_modal.css';\n\n\nclass FormDateRange extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      startDate: this.props.activeSearch.startDate,\n      endDate: this.props.activeSearch.endDate,\n    };\n  }\n\n  toggleModal() {\n    let modal = document.getElementById(\"dates-modal\");\n    let guestModal = document.getElementById(\"guests-modal\");\n    let priceModal = document.getElementById(\"price-range-modal\");\n    if (guestModal.classList.contains(\"show-modal\")) {\n      guestModal.classList.remove(\"show-modal\");\n    }\n    if (priceModal.classList.contains(\"show-modal\")) {\n      priceModal.classList.remove(\"show-modal\");\n    }\n    modal.classList.toggle(\"show-modal\");\n  }\n\n  applyDateRange(e) {\n    e.preventDefault();\n    this.props.receiveDateRange(this.state);\n    this.toggleModal();\n  }\n\n  clearDateRange(e) {\n    e.preventDefault();\n  this.setState({\n    startDate: null,\n    endDate: null\n  });\n}\n\n  render() {\n    return (\n\n      <div>\n        <button className=\"modal-button\" onClick={() => this.toggleModal()}>Dates</button>\n        <div className=\"dates-modal\" id=\"dates-modal\" >\n          <form className=\"\">\n\n            <DateRangePicker\n              startDate={this.state.startDate} \n              startDateId=\"start-date-field\" \n              endDate={this.state.endDate} \n              endDateId=\"end-date-field\" \n              onDatesChange={({ startDate, endDate }) => this.setState({ startDate, endDate })}\n              focusedInput={this.state.focusedInput} \n              onFocusChange={focusedInput => this.setState({ focusedInput })} \n            />\n\n            <br />\n            <div className=\"modal-buttons\" >\n              <button className=\"date-range-picker-button\" onClick={(e) => this.clearDateRange(e)}>Clear</button>\n              <button className=\"date-range-picker-button\" onClick={(e) => this.applyDateRange(e)}>Apply</button>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default FormDateRange;","import * as APIUtil from '../util/spots_api_util';\nexport const RECEIVE_SPOTS = \"RECEIVE_SPOTS\";\n\nexport const receiveSpots = spots => ({\n  type: RECEIVE_SPOTS,\n  spots\n});\n\nexport const fetchSpots = data => dispatch => {\n  return APIUtil.fetchSpots(data)\n    .then(spots => dispatch(receiveSpots(spots)))\n    .catch(err => console.log(err))\n};\n\nexport const fetchSpot = id => dispatch => {\n  \n  return APIUtil.fetchSpot(id)\n    .then(spot => dispatch(receiveSpots(spot)))\n    .catch(err => console.log(err))\n};","import axios from \"axios\";\n\nexport const fetchSpots = data => {\n  return axios.post('/api/spots/', data);\n};\n\nexport const fetchSpot = id => {\n  return axios.get(`/api/spots/${id}`);\n};","import { connect } from 'react-redux';\nimport FormDateRange from './form_date_range';\nimport { receiveDateRange } from './../../actions/search_actions';\nimport { fetchSpots } from './../../actions/spots_actions';\n\n\nconst mapStateToProps = state => {\n  \n  return ({\n    activeSearch: state.ui.activeSearch\n  });\n  \n};\n\nconst mapDispatchToProps = dispatch => ({\n  receiveDateRange: (dateRange) => dispatch(receiveDateRange(dateRange)),\n  fetchSpots: (options) => dispatch(fetchSpots(options)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FormDateRange);\n\n","import React from 'react';\nimport './form_modal.css';\n\n\nclass FormGuestCount extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      adults: this.props.guestCount.adults,\n      children: this.props.guestCount.children,\n      infants: this.props.guestCount.infants,\n    };\n    this.applyGuestCount = this.applyGuestCount.bind(this);\n  }\n\n  incrementValue(stateKey) {\n    let value = this.state[stateKey] + 1;\n   \n    switch (stateKey) {\n      case (\"children\"):\n        if (value > 5) value = 5;\n        break;\n      case \"infants\":\n        if (value > 5) value = 5;\n        break;\n      case \"adults\":\n        if (value > 16) value = 16;\n        break;\n      default:\n        break;\n    }\n    this.setState({\n      [stateKey]: value\n    });\n\n    this.addAdults();\n  }\n\n  addAdults() {\n    if ((this.state.children >= 0 || this.state.infants >= 0) && this.state.adults === 0) {\n      this.setState({\n        adults: 1\n      });\n    }\n  }\n\n  decrementValue(stateKey) {\n    let value = this.state[stateKey] - 1;\n    if (value < 0) {\n      value = 0;\n    }\n    this.setState({\n      [stateKey]: value\n    });\n  }\n\n  toggleModal() {\n    let modal = document.getElementById(\"guests-modal\");\n    let dateModal = document.getElementById(\"dates-modal\");\n    let priceModal = document.getElementById(\"price-range-modal\");\n    if (dateModal.classList.contains(\"show-modal\")) {\n      dateModal.classList.remove(\"show-modal\");\n    }\n    if (priceModal.classList.contains(\"show-modal\")) {\n      priceModal.classList.remove(\"show-modal\");\n    }\n    modal.classList.toggle(\"show-modal\");\n  }\n\n  clearGuestCount(e) {\n    e.preventDefault();\n    this.setState({\n      adults: 0,\n      children: 0,\n      infants: 0,\n    });\n  }\n\n  applyGuestCount(e) {\n    e.preventDefault();\n    let total = this.state.adults + this.state.children + this.state.infants;\n    if (total === 0) this.setState({adults: 1});\n    this.props.receiveGuestCount(this.state);\n    this.toggleModal();\n  }\n\n  render() {\n    return (\n      <div>\n        <button className=\"modal-button\" onClick={() => this.toggleModal()}>Guests</button>\n        <div className=\"guests-modal\" id=\"guests-modal\" >\n          <form >\n\n            <div className=\"incrementer\">\n              <h5>Adults</h5>\n              <div className=\"increment-buttons\">\n                <button className=\"increment-button\" onClick={(e) => { e.preventDefault(); this.decrementValue(\"adults\")}}>-</button>\n                <h5> {this.state.adults}+</h5>\n                <button className=\"increment-button\" onClick={(e) => { e.preventDefault(); this.incrementValue(\"adults\")}}>+</button> \n              </div>\n            </div>\n\n            <div className=\"incrementer\">\n              <h5> Children </h5>\n              <div className=\"increment-buttons\">\n                <button className=\"increment-button\" onClick={(e) => { e.preventDefault(); this.decrementValue(\"children\")}}>-</button>\n                <h5>{this.state.children}+</h5>\n                <button className=\"increment-button\" onClick={(e) => { e.preventDefault(); this.incrementValue(\"children\")}}>+</button> \n              </div>\n            </div>\n\n\n\n            <div className=\"incrementer\">\n              <h5> Infants </h5>\n              <div className=\"increment-buttons\">\n                <button className=\"increment-button\" onClick={(e) => { e.preventDefault(); this.decrementValue(\"infants\")}}>-</button>\n                <h5>{this.state.infants}+</h5>\n                <button className=\"increment-button\" onClick={(e) => { e.preventDefault(); this.incrementValue(\"infants\")}}>+</button> \n              </div>\n            </div>\n\n            <div className=\"modal-buttons\">\n              <button className=\"date-range-picker-button\" onClick={(e) => this.clearGuestCount(e)}>Clear</button>\n              <button className=\"date-range-picker-button\" onClick={(e) => this.applyGuestCount(e)}>Apply</button>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default FormGuestCount;","\nimport { connect } from 'react-redux';\nimport FormGuestCount from './form_guest_count';\nimport { receiveGuestCount } from './../../actions/search_actions';\nimport { fetchSpots } from './../../actions/spots_actions';\n\n\nconst mapStateToProps = state => {\n\n  return ({\n  guestCount: state.ui.activeSearch.guestCount});\n\n  };\n\nconst mapDispatchToProps = dispatch => ({\n  receiveGuestCount: (guestCount) => dispatch(receiveGuestCount(guestCount)),\n  fetchSpots: (options) => dispatch(fetchSpots(options)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FormGuestCount);\n\n\n","import React from 'react';\nimport Rheostat from 'rheostat';\nimport './form_price_range_slider.css';\n\nclass FormPriceRange extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      minValue: this.props.activeSearch.priceRange.minValue,\n      maxValue: this.props.activeSearch.priceRange.maxValue\n    };\n    this.changeValues = this.changeValues.bind(this);\n  }\n\n  changeValues(data) {\n  \n    this.setState({\n      minValue: data.values[0],\n      maxValue: data.values[1]\n    });\n  }\n\n  toggleModal() {\n    let modal = document.getElementById(\"price-range-modal\");\n    let dateModal = document.getElementById(\"dates-modal\");\n    let guestModal = document.getElementById(\"guests-modal\");\n    if (dateModal.classList.contains(\"show-modal\")) {\n      dateModal.classList.remove(\"show-modal\");\n    }\n    if (guestModal.classList.contains(\"show-modal\")) {\n      guestModal.classList.remove(\"show-modal\");\n    }\n    modal.classList.toggle(\"show-modal\");\n  }\n\n  applyPriceRange(e) {\n    e.preventDefault();\n    this.props.receivePriceRange(this.state);\n    this.toggleModal();\n  }\n\n  clearPriceRange(e) {\n    e.preventDefault();\n    this.setState({\n      minValue: 0,\n      maxValue: 1000\n    });\n  }\n\n  render() {\n    return (\n\n      <div>\n        <button className=\"modal-button\" onClick={() => this.toggleModal()}>Price</button>\n        <div className=\"price-range-modal\" id=\"price-range-modal\" >\n          <form >\n\n            <Rheostat\n              min={0}\n              max={1000}\n              values={[0, 1000]}\n              onValuesUpdated={(data) => this.changeValues(data)}\n            />\n            <div className=\"modal-price-range\">\n              <div>${this.state.minValue}</div>  <div>${this.state.maxValue}</div>\n            </div>\n            <div className=\"modal-buttons\">\n              <button className=\"date-range-picker-button\" onClick={(e) => this.clearPriceRange(e)}>Clear</button>\n              <button className=\"date-range-picker-button\" onClick={(e) => this.applyPriceRange(e)}>Apply</button>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default FormPriceRange;\n\n\n\n\n\n  \n\n","\nimport { connect } from 'react-redux';\nimport FormPriceRange from './form_price_range';\nimport { receivePriceRange } from './../../actions/search_actions';\nimport { fetchSpots } from './../../actions/spots_actions';\n\n\nconst mapStateToProps = state => ({\n  activeSearch: state.ui.activeSearch\n});\n\nconst mapDispatchToProps = dispatch => ({\n  receivePriceRange: (priceRange) => dispatch(receivePriceRange(priceRange)),\n  fetchSpots: (options) => dispatch(fetchSpots(options)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FormPriceRange);","import React from 'react';\nimport FormDateRangeContainer from './form_date_range_container';\nimport FormGuestCountContainer from './form_guest_count_container';\nimport FormPriceRangeContainer from './form_price_range_container';\nimport Switch from '@material-ui/core/Switch';\n\nconst FormOptions = ({ receiveMapIsActive, mapIsActive }) => {\n\n  return ( \n    <div className=\"options-wrapper\"> \n\n      <div className=\"form-options-wrapper\">\n        <FormDateRangeContainer />\n        <FormGuestCountContainer />\n        <FormPriceRangeContainer />\n      </div>\n\n      <div className=\"switch-wrapper\">\n        <p className=\"show-map-p\">Show Map</p>\n        <Switch onChange={() => receiveMapIsActive(!mapIsActive)} checked={mapIsActive}/>\n      </div>\n    \n    </div> \n      \n  )\n};\n\nexport default FormOptions;","import React from 'react';\nimport FormOptions from './form_options';\nimport { withRouter } from 'react-router-dom';\nimport PlacesAutocomplete, {\n  geocodeByAddress,\n  getLatLng,\n} from 'react-places-autocomplete';\nimport './auto_complete.css';\nimport _ from 'lodash';\n\nconst google = window.google;\n\nclass AutoComplete extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { address: ''};\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!_.isEqual(prevProps.activeSearch, this.props.activeSearch)) {\n      if (!window.preventFetch) {\n        const inputEl = document.getElementById(\"header-search-input\");\n        let options = {\n          bounds: this.props.activeSearch.bounds,\n          searchText: inputEl.value,\n          startDate: this.props.activeSearch.startDate,\n          endDate: this.props.activeSearch.endDate,\n          guestCount: this.props.activeSearch.guestCount,\n          priceRange: this.props.activeSearch.priceRange\n        };\n        this.props.fetchSpots(options);\n        if (\n          this.props.history.location.pathname !== \"/spots\" &&\n          this.props.activeSearch.active === true\n        ) {\n          this.props.history.push(`/spots`);\n        }\n      } else {\n        window.preventFetch = false;\n        const inputEl = document.getElementById(\n          \"header-search-input\"\n        );\n        let options = {\n          bounds: this.props.activeSearch.bounds,\n          searchText: inputEl.value,\n          startDate: this.props.activeSearch.startDate,\n          endDate: this.props.activeSearch.endDate,\n          guestCount: this.props.activeSearch\n            .guestCount,\n          priceRange: this.props.activeSearch.priceRange\n        };\n        this.props.fetchSpots(options).then(() => {\n          this.MarkerManager = window.markerManager;\n          this.MarkerManager.updateMarkers(this.props.spots);\n        });\n        if (this.props.history.location.pathname !== \"/spots\") \n          this.props.history.push(`/spots`);\n      }\n    } else {\n        if (window.markerManager) {\n          this.MarkerManager = window.markerManager;\n          this.MarkerManager.updateMarkers(this.props.spots);\n        }\n\n    }\n  }\n\n  handleChange = address => {\n    this.setState({ address });\n  }\n\n  handleSelect = address => {\n    this.setState({ address });\n    if (window.map) {\n      window.preventFetch = true;\n      geocodeByAddress(address).then(results => {\n        getLatLng(results[0]).then(({lat, lng}) => {\n          window.locationObj = new google.maps.LatLng(lat, lng);\n          window.map.panTo(window.locationObj);\n        });\n        this.activateSearch();\n      });\n    } else {\n      window.preventFetch = false;\n      geocodeByAddress(address)\n        .then(results => getLatLng(results[0]))\n        .then(latLng => {\n          const location = latLng;\n          this.props.receiveLocation(new google.maps.LatLng(location.lat, location.lng));\n          this.activateSearch();\n        })\n        .catch(error => console.error('Error', error));\n    }\n    \n\n  };\n\n  activateSearch() {\n    this.props.receiveSearchStatus(true);\n    this.props.receiveMapIsActive(true);\n  }\n\n  render() {\n\n    let options;\n    if (this.props.activeSearch.active) {\n      options = <div><FormOptions receiveMapIsActive={this.props.receiveMapIsActive} mapIsActive={this.props.activeSearch.mapIsActive}/></div>;\n    }\n\n    return (\n      <div>\n      <PlacesAutocomplete\n        value={this.state.address}\n        onChange={this.handleChange}\n        onSelect={this.handleSelect}\n      >\n        {({ getInputProps, suggestions, getSuggestionItemProps, loading }) => (\n          <div>\n              <form onSubmit={(e) => {e.preventDefault();}}>\n                <span className=\"search-icon\">&#x1f50d;</span>\n                <input id=\"header-search-input\"\n                  {...getInputProps({\n                    placeholder: `Search | San Francisco or Pier 39`,\n                    className: 'location-search-input',\n                  })}\n                />\n                \n            </form>\n            <div className=\"autocomplete-dropdown-container\">\n              {loading && <div>Loading...</div>}\n              {suggestions.map(suggestion => {\n                const className = suggestion.active\n                  ? 'suggestion-item--active'\n                  : 'suggestion-item';\n                const style = suggestion.active\n                  ? { backgroundColor: '#fafafa', cursor: 'pointer' }\n                  : { backgroundColor: '#ffffff', cursor: 'pointer' };\n                return (\n                  <div\n                    {...getSuggestionItemProps(suggestion, {\n                      className,\n                      style,\n                    })}\n                  >\n                    <span>{suggestion.description}</span>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        )}\n      </PlacesAutocomplete>\n      {options}\n      </div>\n    );\n  }\n}\n\nexport default withRouter(AutoComplete);","import { connect } from 'react-redux';\nimport AutoComplete from './auto_complete';\nimport { fetchSpots } from './../../actions/spots_actions';\nimport {\n  receiveSearchStatus,\n  receiveLocation,\n  receiveBounds,\n  receiveMapIsActive\n} from \"./../../actions/search_actions\";\n\nconst mapStateToProps = state => {\n  return {\n  activeSearch: state.ui.activeSearch,\n  spots: Object.values(state.entities.spots),\n}};\n\nconst mapDispatchToProps = dispatch => ({\n  fetchSpots: options => dispatch(fetchSpots(options)),\n  receiveSearchStatus: active => dispatch(receiveSearchStatus(active)),\n  receiveLocation: location => dispatch(receiveLocation(location)),\n  receiveBounds: bounds => dispatch(receiveBounds(bounds)),\n  receiveMapIsActive: (mapIsActive) => dispatch(receiveMapIsActive(mapIsActive))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AutoComplete);","import React from 'react';\nimport { withRouter } from 'react-router-dom';\n\nclass LoggedInNavMenu extends React.Component {\n  constructor(props) {\n    super(props);\n    this.logoutUser = this.logoutUser.bind(this);\n    this.linkToProfile = this.linkToProfile.bind(this);\n  }\n\n  logoutUser(e) {\n    e.preventDefault();\n    this.props.logout();\n  }\n\n  linkToProfile() {\n    this.props.history.push('/profile');\n  }\n\n  render() {\n    return (\n      <div className=\"nav-menu-buttons\">\n        <button className=\"nav-menu-button\" onClick={this.linkToProfile}>Trips</button>\n        <button className=\"nav-menu-button\" onClick={this.logoutUser}>Logout</button>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(LoggedInNavMenu);","\nimport { connect } from 'react-redux';\nimport LoggedInNavMenu from './logged_in_nav_menu';\nimport { logout } from '../../actions/session_actions';\n\nconst mapStateToProps = state => ({\n});\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    logout: () => dispatch(logout())\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LoggedInNavMenu);","import React from 'react';\nimport { withRouter } from 'react-router-dom';\n\nclass SignupForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: '',\n      handle: '',\n      password: '',\n      password2: '',\n      errors: {}\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.renderFieldErrors = this.renderFieldErrors.bind(this);\n    this.clearedErrors = false;\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.signedIn === true) {\n      this.props.history.push('/login');\n    }\n\n    this.setState({ errors: nextProps.errors });\n  }\n\n  update(field) {\n    return e => this.setState({\n      [field]: e.currentTarget.value\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    let user = {\n      email: this.state.email,\n      handle: this.state.handle,\n      password: this.state.password,\n      password2: this.state.password2\n    };\n\n    this.props.signup(user, this.props.history);\n  }\n\n  renderErrors() {\n    return (\n      <ul>\n        {Object.keys(this.state.errors).map((error, i) => (\n          <li key={`error-${i}`}>\n            {this.state.errors[error]}\n          </li>\n        ))}\n      </ul>\n    );\n  }\n\n  renderFieldErrors(field) {\n    if (this.state.errors[field]) {\n      return (\n        <div className=\"error-div\">\n          <h5 className=\"field-error\">{this.state.errors[field]}</h5>\n        </div>\n      )\n    } else {\n      return (\n        <div className=\"error-div\" />\n      )\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"login-form-container\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"login-form\">\n            <br />\n            <h1 className=\"session-modal-header\">Sign up to continue</h1>\n            <br/>\n            <input type=\"text\"\n              className=\"modal-input-field\"\n              value={this.state.email}\n              onChange={this.update('email')}\n              placeholder=\"Email\"\n            />\n            {this.renderFieldErrors(\"email\")}\n            <input type=\"text\"\n              className=\"modal-input-field\"\n              value={this.state.handle}\n              onChange={this.update('handle')}\n              placeholder=\"Handle\"\n            />\n            {this.renderFieldErrors(\"handle\")}\n            <input type=\"password\"\n              className=\"modal-input-field\"\n              value={this.state.password}\n              onChange={this.update('password')}\n              placeholder=\"Password\"\n            />\n            {this.renderFieldErrors(\"password\")}\n            <input type=\"password\"\n              className=\"modal-input-field\"\n              value={this.state.password2}\n              onChange={this.update('password2')}\n              placeholder=\"Confirm Password\"\n            />\n            {this.renderFieldErrors(\"password2\")}\n            <input className=\"session-modal-submit-button\" type=\"submit\" value=\"Submit\" />\n            <div className=\"login-modal-lower-text\">\n              <h4>Already have an account?</h4><h4 onClick={() => this.props.handleClick(\"login-modal\")} className=\"switch-between-modals\">Log in</h4>\n            </div>\n          </div>\n        </form>\n\n        \n      </div>\n    );\n  }\n}\n\nexport default withRouter(SignupForm);","import { connect } from 'react-redux';\nimport { signup, login } from '../../actions/session_actions';\nimport SignupForm from './signup_form';\n\nconst mapStateToProps = (state) => {\n  return {\n    signedIn: state.session.isSignedIn,\n    errors: state.errors.session\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    signup: user => dispatch(signup(user)),\n    login: user => dispatch(login(user))\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(SignupForm);","import React from 'react';\nimport { withRouter } from 'react-router-dom';\n\nclass LoginForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      email: '',\n      password: '',\n      errors: {}\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.renderFieldErrors = this.renderFieldErrors.bind(this);\n    this.guestLogIn = this.guestLogIn.bind(this);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({ errors: nextProps.errors });\n  }\n\n  update(field) {\n    return e => this.setState({\n      [field]: e.currentTarget.value\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n\n    let user = {\n      email: this.state.email,\n      password: this.state.password\n    };\n\n    this.props.login(user);\n  }\n\n  guestLogIn(e) {\n    e.preventDefault();\n\n    let user = {\n      email: 'valery@gmail.com',\n      password: 'california'\n    };\n\n    this.props.login(user);\n  }\n\n  renderFieldErrors(field) {\n    if(this.state.errors[field]) {\n      return (\n        <div className=\"error-div\">\n          <h5 className=\"field-error\">{this.state.errors[field]}</h5>\n        </div>\n      )\n    } else {\n      return (\n        <div className=\"error-div\"/>\n      )\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"login-form-container\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"login-form\">\n            <br />\n            <h1 className=\"session-modal-header\">Log in to continue</h1>\n            <br/>\n            <input type=\"text\"\n              className=\"modal-input-field\"\n              value={this.state.email}\n              onChange={this.update('email')}\n              placeholder=\"Email\"\n            />\n            {this.renderFieldErrors(\"email\")}\n       \n            <input type=\"password\"\n              className=\"modal-input-field\"\n              value={this.state.password}\n              onChange={this.update('password')}\n              placeholder=\"Password\"\n            />\n            {this.renderFieldErrors(\"password\")}\n  \n            <input className=\"session-modal-submit-button\" type=\"submit\" value=\"Submit\" />\n            <div className=\"login-modal-lower-text\">\n              <h4>Don't have an account?</h4><h4 onClick={() => this.props.handleClick(\"signup-modal\")} className=\"switch-between-modals\">Sign up</h4>\n            </div>\n            <div className=\"guest-login-container\">\n              <button className=\"guest-login\" onClick={this.guestLogIn}> Guest Log In </button>\n            </div>\n          </div>\n\n        </form>\n        <div onClick={() => this.props.handleClick(\"login-modal\")} className=\"modal-underlay\"></div>\n      </div>\n      \n    );\n  }\n}\n\nexport default withRouter(LoginForm);","import { connect } from 'react-redux';\nimport { login } from '../../actions/session_actions';\nimport LoginForm from './login_form';\n\nconst mapStateToProps = (state) => {\n  return {\n    errors: state.errors.session\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    login: user => dispatch(login(user))\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(LoginForm);","import React from 'react';\nimport SignupFormContainer from './../session/signup_form_container';\nimport LoginFormContainer from './../session/login_form_container';\nimport './nav_modals.css';\n\nclass LoggedOutNavMenu extends React.Component {\n  constructor(props) {\n    super(props);\n    this.activeModal = null;\n    this.handleClick = this.handleClick.bind(this);\n  }\n  \n  handleClick(id) {\n    if (this.activeModal === id ||\n      document.getElementById(\"login-modal\").className.split(' ')[1] === \"show-session-modal\") {\n      this.closeModal(id);\n      this.activeModal = null;\n      this.toggleOverlay();\n    } else if (this.activeModal === null) {\n      this.activeModal = id;\n      this.openModal(id);\n      this.toggleOverlay();\n    } else {\n      this.closeModal(this.activeModal);\n      this.activeModal = id;\n      this.openModal(id);\n    }\n  };\n\n  closeModal(id) {\n    let modal = document.getElementById(id) || document.getElementById(\"login-modal\");\n    modal.classList.remove('show-session-modal');\n  }\n\n  openModal(id) {\n    let modal = document.getElementById(id);\n    modal.classList.add('show-session-modal');\n  }\n\n  toggleOverlay() {\n    let modalUnderlay = document.getElementById(\"modal-underlay\");\n    modalUnderlay.classList.toggle('show-modal-underlay');\n  }\n\n  render() {\n    return (\n      <div className=\"logged-out-nav-menu\">\n        <div className=\"nav-menu-buttons\">\n          <button className=\"nav-menu-button\" onClick={() => this.handleClick(\"signup-modal\")}>Signup</button>\n          <button className=\"nav-menu-button\" onClick={() => this.handleClick(\"login-modal\")}>Login</button>\n        </div>\n        <div className=\"session-modals\">\n          \n            <div id=\"signup-modal\" className=\"signup-modal\">\n              <button className=\"close-modal-button\" onClick={() => this.handleClick(\"signup-modal\")}> &#215;</button>\n              <SignupFormContainer handleClick={this.handleClick}/>\n            </div>\n  \n            <div id=\"login-modal\" className=\"login-modal\">\n              <button className=\"close-modal-button\" onClick={() => this.handleClick(\"login-modal\")}> &#215;</button>\n              <LoginFormContainer handleClick={this.handleClick}/>\n            </div>\n            <div onClick={() => this.handleClick(this.activeModal)} id=\"modal-underlay\"></div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default LoggedOutNavMenu;","import LoggedOutNavMenu from './logged_out_nav_menu';\nimport { connect } from 'react-redux';\n\n\nconst mapStateToProps = state => ({\n\n});\n\nconst mapDispatchToProps = dispatch => {\n  return {\n\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LoggedOutNavMenu);","import React from 'react';\nimport './navbar.css';\nimport AutoCompleteContainer from './../search/auto_complete_container';\nimport LoggedInNavMenuContainer from './logged_in_nav_menu_container';\nimport LoggedOutNavMenuContainer from './logged_out_nav_menu_container';\nimport { withRouter } from 'react-router-dom';\n\n\nclass NavBar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.getMenuOptions = this.getMenuOptions.bind(this);\n    this.linkToMainPage = this.linkToMainPage.bind(this);\n  }\n\n  getMenuOptions() {\n    if (this.props.loggedIn) {\n      return (\n        <div className=\"nav-menu\">\n          <LoggedInNavMenuContainer />\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"nav-menu\">\n          <LoggedOutNavMenuContainer />\n        </div>\n      );\n    }\n  }\n\n  linkToMainPage() {\n    this.props.history.push('/');\n    this.props.receiveMapIsActive(false);\n    this.props.receiveSearchStatus(false);\n  }\n\n  render() {\n    return (\n      <div className=\"nav-bar\">\n        <div className=\"nav-bar-left\">\n          <h1 onClick={this.linkToMainPage}>CoolBnb</h1>\n          <AutoCompleteContainer />\n        </div>\n        {this.getMenuOptions()}\n      </div>\n    );\n  }\n}\n\nexport default withRouter(NavBar);","import { connect } from 'react-redux';\nimport { logout } from '../../actions/session_actions';\nimport { receiveSearchStatus, receiveMapIsActive } from '../../actions/search_actions';\n\nimport NavBar from './navbar';\n\nconst mapStateToProps = state => ({\n  loggedIn: state.session.isAuthenticated\n});\n\nconst mapDispatchToProps = dispatch => ({\n  logout: () => dispatch(logout()),\n  receiveMapIsActive: (mapIsActive) => dispatch(receiveMapIsActive(mapIsActive)),\n  receiveSearchStatus: (active) => dispatch(receiveSearchStatus(active))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NavBar);","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport './footer.css';\n\nclass Footer extends React.Component {\n  render() {\n    return (\n      <div className=\"footer-container\">\n        <div className=\"footer\">\n          <p>2019 CoolBnb, a minimal clone of Airbnb.com </p>\n            <div>\n              <a href=\"https://www.linkedin.com/in/valeryn/\" target=\"_blank\">LinkedIn</a>|\n              <a href=\"https://github.com/valery-nguyen/coolbnb\" target=\"_blank\">GitHub</a>|\n              <a href=\"https://angel.co/valeryn\" target=\"_blank\">AngelList</a>\n            </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(Footer);","import React from 'react';\nimport Footer from '../footer/footer';\nimport './splash_page.css';\n\nclass MainPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.rotateImage = this.rotateImage.bind(this);\n  }\n  componentDidMount() {\n    this.rotateImage();\n  }\n\n  rotateImage() {\n    const image = document.getElementById(\"splash-page-img\");\n    if (image) {\n      setTimeout(() => {\n        if (image.className === 'splash-page-img bg1') {\n          image.setAttribute('class', 'splash-page-img bg2');\n        } else {\n          image.setAttribute('class', 'splash-page-img bg1');\n        }\n        this.rotateImage();\n      }, 5000);\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"splash-page-container\">\n        <div className=\"splash-page\">\n          <h1 className=\"splash-page-title\" >Book unique home and experiences.</h1>\n          <h1 className=\"splash-page-description\" >Welcome to CoolBnb!</h1>\n          <img alt=\"\" id=\"splash-page-img\" className=\"splash-page-img bg1\" />\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n}\n\nexport default MainPage;","import React from 'react';\nimport { Link } from \"react-router-dom\";\n\nexport const SpotIndexItem = ({spot, mapIsActive}) => {\n  if ( mapIsActive ) {\n    return (<Link className=\"spots-results-list-c\" key={spot._id} to={`/spot/${spot._id}`}>\n    <li key={spot._id} className=\"spot-list-item-m\">\n\n      <div className=\"m-spot-container\">\n        <div id=\"spot-list-photo-container-m\">\n          <img alt=\"\" className=\"spot-list-photo-m\" src={spot.images[0].img_url} />\n        </div>\n\n        <div className=\"spot-list-deets\">\n          <div className=\"spot-list-deets-desc\">\n            <p className=\"spot-list-description-m-details\">Entire guesthouse</p>\n            <p className=\"spot-list-description-m\">{spot.name}</p>\n            <p className=\"spot-list-description-m-details\">Wifi | Free parking on premises | Kitchen | Hair dryer</p>\n          </div>\n          <div className=\"spot-list-deets-price\">\n            <p className=\"spot-list-price-m\">${spot.price}/night</p>\n          </div>\n        </div>\n      </div>\n      \n    </li>\n  </Link>)\n\n  } else {\n    return (\n      <Link className=\"spots-results-list-r\" key={spot._id} to={`/spot/${spot._id}`}>\n        <div>\n          <li key={spot._id} className=\"spot-list-item\">\n            <div id=\"spot-list-photo-container\">\n              <img alt=\"\" id=\"spot-list-photo\" src={spot.images[0].img_url} />\n            </div>\n            <p id=\"spot-list-description\">{spot.name}</p>\n            <p id=\"spot-list-price\">${spot.price}/night</p>\n          </li>\n        </div>\n      </Link>\n    )\n  }\n}\n","import { colors } from \"material-ui/styles\";\n\nconst google = window.google;\n\nexport default class MarkerManager {\n  constructor(map) {\n    this.map = map;\n    this.markers = {};\n    this.removeMarker = this.removeMarker.bind(this);\n    this.updateInfoWindow = this.updateInfoWindow.bind(this);\n    this.infoWindow = new google.maps.InfoWindow({});\n  }\n\n  updateMarkers(spots) {\n    const spotsObj = {};\n    spots.forEach(spot => spotsObj[spot._id] = spot);\n\n    Object.keys(this.markers)\n      .filter(spotId => !spotsObj[spotId])\n      .forEach((spotId) => this.removeMarker(this.markers[spotId]));\n\n    spots\n      .filter(spot => !this.markers[spot._id])\n      .forEach(newSpot => this.createMarkerFromSpot(newSpot));\n  }\n\n  removeMarker(marker) {\n    this.markers[marker.spotId].setMap(null);\n    delete this.markers[marker.spotId];\n  }\n\n  updateInfoWindow(content, marker) {\n    this.infoWindow.setContent(content);\n    this.infoWindow.open(this.map, marker);\n  }\n\n  createMarkerFromSpot(spot) {\n    const position = { lat: spot.lat, lng: spot.lng };\n    var contentString =\n      `<a href=\"/#/spot/${spot._id}\">` +\n      '<div id=\"content\">' +\n      '<div id=\"siteNotice\">' +\n      \"</div >\" +\n      `<img style=\"max-height: 120px; max-width: 200px; margin-bottom: 10px;\" alt=\"\" src=${\n        spot.images[1].img_url\n      }>` +\n      `<h1 id=\"firstHeading\" class=\"firstHeading\" style=\"max-width: 200px; word-break: break-word; margin-bottom: 5px;\"><b>${\n        spot.name\n      }</b></h1>` +\n      '<div id=\"bodyContent\">' +\n      `<p>$${spot.price} per night</p>` +\n      \"</div>\" +\n      \"</div>\" +\n      '</a>';\n \n\n    const marker = new google.maps.Marker({\n      position,\n      map: this.map,\n      label: {\n        text: `$${spot.price}`,\n        fontSize: \"9px\",\n        fontWeight: \"bold\",\n        color: 'white'\n      },\n      spotId: spot._id\n    });\n\n    marker.addListener(\"click\", () => {\n      this.updateInfoWindow(contentString, marker);\n    });\n    this.markers[marker.spotId] = marker;\n  }\n\n}","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport MarkerManager from './../../util/marker_manager';\nimport _ from 'lodash';\n\nconst google = window.google;\n\nclass SpotMap extends React.Component {\n\n  componentDidMount() {\n    let mapOptions = {\n      center: this.props.searchParams.location,\n      zoom: 14\n    };\n\n    let map = this.refs.map;\n    window.map = this.map = new google.maps.Map(map, mapOptions);\n    window.markerManager = this.MarkerManager = new MarkerManager(this.map);\n    this.MarkerManager.updateMarkers(this.props.spots);\n    this.map.addListener('bounds_changed', () => {\n      let mapBounds = this.map.getBounds();\n      let southWest = mapBounds.getSouthWest();\n      let northEast = mapBounds.getNorthEast();\n      let bounds = { sw: { lat: southWest.lat(), lng: southWest.lng() }, \n      ne: { lat: northEast.lat(), lng: northEast.lng() }};\n      this.props.receiveBounds(bounds);\n\n      let location = this.map.getCenter();\n      this.props.receiveLocation(location);\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (!_.isEqual(prevProps.searchParams.location, this.props.searchParams.location)) {\n      this.MarkerManager.updateMarkers(this.props.spots);\n    } \n  }\n\n  render() {\n    return (\n    <div id=\"map-container\" ref=\"map\"> </div>\n    );\n  }\n  \n}\n\n\nexport default withRouter(SpotMap);","import { connect } from 'react-redux';\nimport SpotMap from './spot_map';\nimport { fetchSpots } from './../../actions/spots_actions';\nimport { receiveLocation, receiveBounds } from './../../actions/search_actions';\n\nconst mapStateToProps = state => ({\n  spots: Object.values(state.entities.spots),\n  searchParams: state.ui.activeSearch\n});\n\nconst mapDispatchToProps = dispatch => ({\n  fetchSpots: (data) => dispatch(fetchSpots(data)),\n  receiveLocation: (location) => dispatch(receiveLocation(location)),\n  receiveBounds: (bounds) => dispatch(receiveBounds(bounds)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SpotMap);","import React from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { SpotIndexItem } from './spot_index_item';\nimport MapContainer from './../map/spot_map_container';\n\nclass Spots extends React.Component {\n\n  componentDidMount() {\n    this.props.fetchSpots();\n    this.props.receiveSearchStatus(true);\n  }\n\n  isMapActive() {\n    let outerSpotsDiv = document.getElementById(\"outer-spots-div\");\n    let list = document.getElementById(\"spots-results-list\");\n\n    if (this.props.mapIsActive) {\n      if (outerSpotsDiv && !outerSpotsDiv.classList.contains(\"spots-index-map-active\")) {\n        outerSpotsDiv.classList.add(\"spots-index-map-active\");\n        list.classList.add(\"spots-results-list-column\");\n        list.classList.remove(\"spots-results-list\");\n      }\n      return <MapContainer/>\n    } else {\n      if (outerSpotsDiv && outerSpotsDiv.classList.contains(\"spots-index-map-active\")) {\n        outerSpotsDiv.classList.remove(\"spots-index-map-active\");\n        list.classList.add(\"spots-results-list\");\n        list.classList.remove(\"spots-results-list-column\");\n        \n      }\n    }\n  }\n\n  render() {\n\n    return (\n      <div className=\"spots-and-map-div\">\n        <div id=\"outer-spots-div\" className=\"outer-spots-div\">\n          {(this.props.spots.length) ? <h2 id=\"spots-list-header\"> Explore all {this.props.spots.length}+ homes </h2> : \n            <div className=\"no-results\"><h3> No results </h3><p>To get more results, try adjusting your search by changing your dates</p></div>}\n          <div id=\"spots-list-container\">\n            <ul id=\"spots-results-list\" className=\"spots-results-list\">\n              {this.props.spots.map(spot => (\n                <SpotIndexItem spot={spot} key={spot._id} mapIsActive={this.props.mapIsActive} />\n              ))}\n            </ul>\n          </div>\n        </div>\n\n     \n          {this.isMapActive()}\n\n\n      </div>\n    );\n  }\n}\n\nexport default withRouter(Spots);\n","import { connect } from 'react-redux';\nimport { fetchSpots, fetchSpot } from '../../actions/spots_actions';\nimport {\n  receiveSearchStatus\n} from \"../../actions/search_actions\";\n\nimport Spots from './spots';\n\nconst mapStateToProps = state => ({\n    spots: Object.values(state.entities.spots),\n    active: state.ui.activeSearch.active,\n    mapIsActive: state.ui.activeSearch.mapIsActive\n});\n\nconst mapDispatchToProps = dispatch => ({\n  fetchSpots: data => dispatch(fetchSpots(data)),\n  fetchSpot: id => dispatch(fetchSpot(id)),\n  receiveSearchStatus: active => dispatch(receiveSearchStatus(active))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Spots);","import * as APIUtil from '../util/bookings_api_util';\nexport const RECEIVE_BOOKINGS = \"RECEIVE_BOOKINGS\";\nexport const RECEIVE_BOOKING_ERRORS = \"RECEIVE_BOOKING_ERRORS\";\nexport const RECEIVE_DELETED_BOOKING = 'RECEIVE_DELETED_BOOKING';\n\nexport const receiveBookings = bookings => ({\n  type: RECEIVE_BOOKINGS,\n  bookings\n});\n\nexport const receiveDeletedBooking = booking => ({\n  type: RECEIVE_DELETED_BOOKING,\n  booking\n});\n\nexport const receiveBookingErrors = err => ({\n  type: RECEIVE_BOOKING_ERRORS,\n  err\n});\n  \n\nexport const fetchUserBookings = user_id => dispatch => {\n  return APIUtil.fetchUserBookings(user_id)\n    .then(bookings => dispatch(receiveBookings(bookings)))\n    .catch(err => console.log(err));\n};\n\nexport const fetchSpotBookings = spot_id => dispatch => {\n  return APIUtil.fetchSpotBookings(spot_id)\n    .then(bookings => dispatch(receiveBookings(bookings)))\n    .catch(err => console.log(err));\n};\n\nexport const createBooking = data => dispatch => {\n  return APIUtil.createBooking(data)\n    .then(bookings => dispatch(receiveBookings(bookings)))\n    .catch(err => dispatch(receiveBookingErrors(err)));\n};\n\nexport const deleteBooking = id => dispatch => {\n  return APIUtil.deleteBooking(id)\n    .then(booking => dispatch(receiveDeletedBooking(booking)))\n    .catch(err => console.log(err));\n};","import axios from \"axios\";\n\nexport const fetchUserBookings = user_id => {\n  return axios.post('/api/bookings/', { user_id });\n};\n\nexport const fetchSpotBookings = spot_id => {\n  return axios.get(`/api/bookings/${spot_id}`);\n};\n\nexport const createBooking = data => {\n  return axios.post(`/api/bookings/create`, data);\n};\n\nexport const deleteBooking = id => {\n  return axios.delete(`/api/bookings/${id}`);\n};","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { DateRangePicker } from 'react-dates';\nvar moment = require(\"moment\");\n\nclass ReservationForm extends React.Component {\n  constructor(props) {\n    super(props);\n    \n    this.state = {\n      startDate: null,\n      endDate: null,\n      guest_count: \"\",\n      spot_id: this.props.spot._id,\n      user_id: \"\",\n      response_messages: null\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.isDayBlocked = this.isDayBlocked.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.fetchSpotBookings(this.props.spot._id);\n  }\n\n  update(field) {\n    return e => this.setState({ [field]: e.currentTarget.value });\n  } \n\n  renderResponseMessages(messages) {\n    if (messages.type === \"success\") {\n      this.setState({\n        response_messages: [\n          <div key=\"success\" id=\"messages-success\">\n            Your trip was booked successfully!\n          </div>\n        ]\n      });\n    } else {\n      this.setState({\n        response_messages: [\n          <div key=\"errors\" id=\"messages-errors\">\n            {(messages.body) ? \"Please verify your trip dates and guests count..\" : null}\n          </div>\n        ]\n      });\n    }\n  }\n\n  isDayBlocked(day) {\n      let calendarDay = day.calendar();\n      let bookings = this.props.user.bookings;\n      bookings = Object.values(bookings);\n      let result = false;\n      calendarDay = String(day.month() + 1).concat(\"/\", day.date() + 1, \"/\", day.year())\n      bookings.forEach( booking => {\n      let startDay = moment(booking.start_date);\n      let endDay = moment(booking.end_date);\n      let CstartDay = String(startDay.month() + 1).concat(\"/\", startDay.date() + 1, \"/\", startDay.year());\n      let CendDay = String(endDay.month() + 1).concat(\"/\", endDay.date() + 1, \"/\", endDay.year());\n      if (calendarDay >= CstartDay && calendarDay <= CendDay) {\n        result = true;\n      } \n      });\n      \n      return result;\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    if(this.props.user.user_id !== '') {\n      let temp = null;\n      let bookingInfo = this.state;\n    \n      bookingInfo.user_id = this.props.user.user_id;\n      this.props.createBooking(bookingInfo).then(result => {\n        temp = result;\n        if(temp.type === \"RECEIVE_BOOKINGS\") {\n          if(temp.bookings.status === 200) {\n            this.renderResponseMessages({\n              type: \"success\",\n            })\n          }\n        } else if(temp.type === \"RECEIVE_BOOKING_ERRORS\") {\n          this.renderResponseMessages({\n            type: temp.type,\n            body: Object.values(temp.err.response.data)\n          });\n        }\n      });\n    } else {\n      let modal = document.getElementById(\"login-modal\");\n      modal.classList.add('show-session-modal');\n      let modalUnderlay = document.getElementById(\"modal-underlay\");\n      modalUnderlay.classList.toggle('show-modal-underlay');\n    }\n  }\n\n  render() {\n    if (!this.props.spot) return (<div></div>)\n\n    return (\n      \n        <div className=\"reserve-main\">\n          <div id=\"reserve-inner-container\">\n            <div id=\"reserve-price\">\n              ${this.props.spot.price}\n              <span className=\"sans12\"> per night</span>\n            </div>\n            <span className=\"divider\" />\n            <form id=\"reserve-form\" onSubmit={this.handleSubmit}>\n              <label>\n                Dates\n                <DateRangePicker\n                  startDate={this.state.startDate} \n                  isDayBlocked={day => this.isDayBlocked(day)}\n                  startDateId=\"start-date-field\" \n                  endDate={this.state.endDate} \n                  endDateId=\"end-date-field\" \n                  onDatesChange={({ startDate, endDate }) =>\n                    this.setState({ startDate, endDate })\n                  } \n                  focusedInput={this.state.focusedInput}\n                  onFocusChange={focusedInput =>\n                    this.setState({ focusedInput })\n                  } \n                />\n              </label>\n              <label>\n                Guests\n                <br />\n                <input\n                  className=\"reserve-guests\"\n                  onChange={this.update(\"guest_count\")}\n                  type=\"text\"\n                  placeholder=\"Enter number of guests\"\n                />\n              </label>\n              <input\n                id=\"reservation-submit-button\"\n                type=\"submit\"\n                value=\"Book\"\n              />\n            </form>\n            \n          </div>\n        {this.state.response_messages}\n        </div>\n      \n    );\n  }\n}\n\nexport default withRouter(ReservationForm);","import { connect } from \"react-redux\";\nimport { createBooking } from \"../../actions/bookings_actions\";\nimport ReservationForm from \"./reservation_form\";\nimport { fetchSpotBookings } from \"../../actions/bookings_actions\";\n\nconst mapStateToProps = (state, ownProps) => {\n  let user_id;\n\n  if(state.session.user) {\n    if (state.session.user.token) {\n      user_id = state.session.user.token.id;\n    } else {\n      user_id = state.session.user.id;\n    }\n  } else {\n    user_id = '';\n  }\n   \n  const user = {\n    user_id: user_id,\n    bookings: state.entities.bookings\n  };\n\n  return {\n       user: user\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    createBooking: bookingInfo => dispatch(createBooking(bookingInfo)),\n    fetchSpotBookings: id => dispatch(fetchSpotBookings(id))\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ReservationForm);\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport ReservationFormContainer from './reservation_form_container';\nimport Footer from '../footer/footer';\n\nclass SpotShow extends React.Component {\n  componentDidMount() {\n    if (!this.props.spot) {\n      this.props.fetchSpot(this.props.spot_id);\n    } \n    this.props.receiveSearchStatus(false);\n  }\n\n  render() {\n    if (!this.props.spot) return (<div></div>)\n    \n    return (\n      <div className=\"spotshow-main-container\">\n        <div className=\"spotshow-main\">\n          <div id=\"spotshow-photo-container\">\n            <img className=\"spotshow-photo-large\" src={this.props.spot.images[0].img_url} alt=\"\" />\n            <img className=\"spotshow-photo-large\" src={this.props.spot.images[1].img_url} alt=\"\" />\n          </div>\n          <div id=\"outer\">\n            <div className=\"spotshow-info-column\">\n              <p className=\"spotshow-name\">{this.props.spot.name}</p>\n              <p className=\"spotshow-city\">{this.props.spot.city} </p>\n              <span className=\"spotshow-occupancy\">Occupancy\n                <p className=\"s\">{this.props.spot.occupancy} guests</p>\n              </span>\n              <div className=\"spotshow-description\">\n                <p>\n                  {this.props.spot.description}\n                </p>\n              </div>\n              <br /><br />\n              <div className=\"policies\">\n                <br />\n                <p className=\"spotshow-name\">Policies</p>\n                <div className=\"spotshow-description\">\n                  <span className=\"spotshow-occupancy\"> House Rules </span>\n                  <p> Not safe or suitable for infants (under 2 years) and pets </p>\n                  <p> No smoking, parties, or events </p>\n                  <p> Check-in is anytime after 3PM and check out by 11AM </p>\n                </div>\n                \n              </div>\n              <br /><br />\n              <div className=\"policies\">\n                <br />\n                <span className=\"spotshow-occupancy\"> Cancellations </span>\n                <div className=\"spotshow-description\">\n                  <span className=\"spotshow-occupancy\"> Strict - Free cancellation for 48 hours </span>\n                  <p> After that, cancel up to 7 days before check-in and get a 50% refund, minus the service fee. </p>\n                </div>\n              </div>\n            </div>\n            <div className=\"check-in-box\">\n              <ReservationFormContainer spot={this.props.spot} />\n            </div>\n          </div>\n          <Footer />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(SpotShow);","import { connect } from \"react-redux\";\nimport { fetchSpots, fetchSpot } from \"../../actions/spots_actions\";\nimport { fetchSpotBookings } from \"../../actions/bookings_actions\";\nimport {\n  receiveSearchStatus,\n} from \"../../actions/search_actions\";\n\nimport SpotShow from \"./spot_show\";\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    spot: state.entities.spots[ownProps.match.params.id],\n    spot_id: ownProps.match.params.id,\n  \n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    fetchSpots: data => dispatch(fetchSpots(data)),\n    fetchSpot: id => dispatch(fetchSpot(id)),\n    fetchSpotBookings: id => dispatch(fetchSpotBookings(id)),\n    receiveSearchStatus: active => dispatch(receiveSearchStatus(active))\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(SpotShow);\n","import React from 'react';\nimport './profile.css';\nimport Footer from '../footer/footer';\nimport { Link } from \"react-router-dom\";\n\nclass Profile extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  componentDidMount() {\n    this.props.receiveSearchStatus(false);\n    let currentUserId = undefined;\n    if (this.props.currentUser.token) {\n      currentUserId = this.props.currentUser.token.id;\n    } else {\n      currentUserId = this.props.currentUser.id;\n    }\n    this.setState({});\n    this.props.fetchUserBookings(currentUserId)\n      .then(() => Object.values(this.props.bookings).forEach((booking) => {\n        this.props.fetchSpot(booking.spot_id).then((response) => {\n          this.setState({\n            [booking._id]: response.spots.data[booking.spot_id]\n          });\n        });\n      }));\n  }\n\n  componentDidUpdate(prevProps) {\n    if(prevProps.history.location.pathname !== this.props.history.location.pathname) {\n      this.props.fetchUserBookings(this.props.currentUserId)\n        .then(() => Object.values(this.props.bookings).forEach((booking) => {\n  \n          this.props.fetchSpot(booking.spot_id);\n        }));\n    }\n  }\n\n  render() {\n    if (!this.props.bookings) return null;\n    if (Object.keys(this.state).length < Object.keys(this.props.bookings).length) return null;\n    const bookings = this.props.bookings;\n\n    const bookingsLis = bookings.map( booking => {\n        const startDate = new Date(booking.start_date);\n        const endDate = new Date(booking.end_date);\n        const createdAt = new Date(booking.created_at);\n        const imgUrl = this.state[booking._id].images[0].img_url;\n        return (\n          <li key={booking._id}>\n            <div>\n              <Link key={booking._id} to={`/spot/${booking.spot_id}`}>\n                <img className=\"bookings-photo\" src={imgUrl} alt=\"\" />\n              </Link>\n              <div className=\"profile-booking-text\">\n                <h5>{this.state[booking._id].name}</h5>\n                <p>\n                  Booked on: {createdAt.getMonth() + 1}/\n                  {createdAt.getDate()}/{createdAt.getFullYear()}\n                </p>\n                <p>\n                  From: {startDate.getMonth() + 1}/{startDate.getDate()}\n                  /{startDate.getFullYear()}\n                </p>\n                <p>\n                  Until: {endDate.getMonth() + 1}/\n                  {endDate.getDate() + 1}/{endDate.getFullYear()}\n                </p>\n                <p>Booked for {booking.guest_count} occupant(s)</p>\n              </div>\n            </div>\n            <div className=\"profile-booking-delete-button-div\">\n              <button\n                onClick={e => {\n                  e.preventDefault();\n                  this.props.deleteBooking(booking._id);\n                }}\n              >\n                Delete booking\n              </button>\n            </div>\n          </li>\n        );\n      })\n    return (\n      <div>\n        <div className=\"profile\">\n          <h2>Upcoming plans</h2>\n          {(this.props.bookings.length > 0) ? <ul>{bookingsLis}</ul> : <h3>You have no upcoming trips. Start exploring ideas for your next trip.</h3>}\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n}\n\nexport default Profile;","import { connect } from 'react-redux';\nimport Profile from './profile';\nimport { fetchUserBookings, deleteBooking, fetchSpotBookings } from '../../actions/bookings_actions';\nimport { fetchSpot } from '../../actions/spots_actions';\nimport { receiveSearchStatus } from '../../actions/search_actions';\n\nconst mapStateToProps = state => ({\n  currentUser: state.session.user,\n  bookings: Object.values(state.entities.bookings),\n  spots: state.entities.spots\n});\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    fetchUserBookings: (user_id) => dispatch(fetchUserBookings(user_id)),\n    deleteBooking: (id) => dispatch(deleteBooking(id)),\n    fetchSpotBookings: (spot_id) => dispatch(fetchSpotBookings(spot_id)),\n    fetchSpot: (spot_id) => dispatch(fetchSpot(spot_id)),\n    receiveSearchStatus: (active) => dispatch(receiveSearchStatus(active))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);","import React from 'react';\nimport { ProtectedRoute } from '../util/route_util';\nimport { Switch, Route } from 'react-router-dom';\nimport NavBarContainer from './nav/navbar_container';\n\nimport MainPage from './main/main_page';\nimport SpotsContainer from './spots/spots_container';\nimport SpotContainer from './spots/spot_container';\nimport ProfileContainer from './profile/profile_container';\n\nconst App = () => (\n  <div>\n    <NavBarContainer  />\n    <div >\n    <Switch>\n      <Route exact path=\"/\" component={MainPage} />\n      <Route path=\"/spots\" component={SpotsContainer} />\n      <Route path=\"/spot/:id\" component={SpotContainer} />\n      <ProtectedRoute exact path=\"/profile\" component={ProfileContainer} />\n    </Switch>\n    </div>\n  </div>\n);\n\nexport default App;","import React from 'react';\nimport { Provider } from 'react-redux';\nimport { HashRouter } from 'react-router-dom';\nimport App from './app';\n\n\nconst Root = ({ store }) => (\n  <Provider store={store}>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </Provider>\n);\n\nexport default Root;","import {\n  RECEIVE_CURRENT_USER,\n  RECEIVE_USER_LOGOUT,\n  RECEIVE_USER_SIGN_IN\n} from '../actions/session_actions';\n\nconst initialState = {\n  isAuthenticated: false,\n  user: {id: \"\"}\n};\n\nexport default function (state = initialState, action) {\n \n  switch (action.type) {\n    case RECEIVE_CURRENT_USER:\n      return {\n        ...state,\n        isAuthenticated: !!action.currentUser,\n        session_id: action.currentUser.token.id,\n        user: action.currentUser\n      };\n    case RECEIVE_USER_LOGOUT:\n      return {\n        isAuthenticated: false,\n        user: undefined\n      };\n    case RECEIVE_USER_SIGN_IN:\n  \n      return {\n        ...state,\n        isSignedIn: true,\n        isAuthenticated: !!action.currentUser,\n        session_id: action.currentUser.token.id,\n        user: action.currentUser\n      }\n    default:\n      return state;\n  }\n}","import {\n  RECEIVE_SESSION_ERRORS,\n  RECEIVE_CURRENT_USER,\n} from '../actions/session_actions';\n\nconst _nullErrors = [];\n\nconst SessionErrorsReducer = (state = _nullErrors, action) => {\n  Object.freeze(state);\n  switch (action.type) {\n    case RECEIVE_SESSION_ERRORS:\n      return action.errors;\n    case RECEIVE_CURRENT_USER:\n      return _nullErrors;\n    default:\n      return state;\n  }\n};\n\nexport default SessionErrorsReducer;","import {\n  RECEIVE_BOOKING_ERRORS\n} from \"../actions/bookings_actions\";\n\nconst _nullErrors = [];\n\nconst BookingsErrorsReducer = (state = _nullErrors, action) => {\n  \n  Object.freeze(state);\n  switch (action.type) {\n    case RECEIVE_BOOKING_ERRORS:\n    \n      return action.err.response.data;\n    default:\n      return state;\n  }\n};\n\nexport default BookingsErrorsReducer;\n","import { combineReducers } from 'redux';\n\nimport SessionErrorsReducer from './session_errors_reducer';\nimport BookingsErrorsReducer from \"./bookings_errors_reducer\";\n\nexport default combineReducers({\n  session: SessionErrorsReducer,\n  bookings: BookingsErrorsReducer\n});","import { RECEIVE_SPOTS } from '../actions/spots_actions';\n\nconst SpotsReducer = (state = {}, action) => {\n  Object.freeze(state);\n  switch (action.type) {\n    case RECEIVE_SPOTS:\n      return action.spots.data;\n    default:\n      return state;\n  }\n};\n\nexport default SpotsReducer;","import { RECEIVE_BOOKINGS, RECEIVE_DELETED_BOOKING } from '../actions/bookings_actions';\nimport { merge } from 'lodash';\n\nconst BookingsReducer = (state = {}, action) => {\n  Object.freeze(state);\n  switch (action.type) {\n    case RECEIVE_BOOKINGS:\n      return action.bookings.data;\n    case RECEIVE_DELETED_BOOKING:\n      let newState = merge({}, state);\n      delete newState[action.booking.data._id];\n      return newState;\n    default:\n      return state;\n  }\n};\n\nexport default BookingsReducer;","import { combineReducers } from 'redux';\nimport spots from './spots_reducer';\nimport bookings from './bookings_reducer';\nimport users from './users_reducer';\n\nconst EntitiesReducer = combineReducers({\n  spots,\n  bookings,\n  users\n});\n\nexport default EntitiesReducer;","import {\n  RECEIVE_CURRENT_USER,\n  RECEIVE_USER_SIGN_IN\n} from '../actions/session_actions';\n\nexport default function (state = {}, action) {\n\n  switch (action.type) {\n    case RECEIVE_CURRENT_USER:\n      let user = {\n        username: action.currentUser.username,\n        user_id: action.currentUser.token.id };\n\n      return Object.assign({}, state, { [action.currentUser.token.id]: user });\n    case RECEIVE_USER_SIGN_IN:\n      let userCurrent = {\n        username: action.currentUser.username,\n        user_id: action.currentUser.token.id\n      };\n\n      return Object.assign({}, state, { [action.currentUser.token.id]: userCurrent });\n    default:\n      return state;\n  }\n}","import { RECEIVE_MAP_IS_ACTIVE, RECEIVE_DATE_RANGE, RECEIVE_PRICE_RANGE, RECEIVE_GUEST_COUNT, RECEIVE_SEARCH_STATUS, RECEIVE_BOUNDS, RECEIVE_LOCATION } from './../actions/search_actions';\nimport { merge } from 'lodash';\nconst google = window.google;\n\nconst defaultState = {\n  active: false,\n  startDate: null,\n  endDate: null,\n  guestCount: {\n    adults: 1,\n    children: 0,\n    infants: 0\n  },\n  priceRange: {\n    minValue: 0,\n    maxValue: 1000\n  },\n  location: new google.maps.LatLng(37.79736054067749, -122.41654052893894),\n  bounds: null,\n  mapIsActive: false\n};\n\n\nconst ActiveSearchReducer = (state = defaultState, action) => {\n  Object.freeze(state);\n  switch (action.type) {\n    case RECEIVE_DATE_RANGE:\n      return merge({}, state, action.dateRange);\n    case RECEIVE_PRICE_RANGE:\n      return merge({}, state, { priceRange: action.priceRange });\n    case RECEIVE_GUEST_COUNT:\n      return merge({}, state, { guestCount: action.count });\n    case RECEIVE_SEARCH_STATUS:\n      return merge({}, state, { active: action.active });\n    case RECEIVE_BOUNDS:\n      return merge({}, state, { bounds: action.bounds });\n    case RECEIVE_LOCATION:\n      return merge({}, state, { location: action.location });\n    case RECEIVE_MAP_IS_ACTIVE:\n      return merge({}, state, { mapIsActive: action.mapIsActive});\n    default:\n      return state;\n  }\n};\n\nexport default ActiveSearchReducer;\n\n","import { combineReducers } from 'redux';\nimport activeSearch from './active_search_reducer';\n\nconst UIReducer = combineReducers({\n  activeSearch: activeSearch,\n});\n\nexport default UIReducer;","import { combineReducers } from 'redux';\nimport session from './session_reducer';\nimport errors from './errors_reducer';\n\nimport entities from './entities_reducer';\nimport ui from './ui_reducer';\n\nconst RootReducer = combineReducers({\n  errors,\n  session,\n  entities,\n  ui\n});\n\nexport default RootReducer;","import { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\n\nimport rootReducer from '../reducers/root_reducer';\n\nconst configureStore = (preloadedState = {}) => (\n  createStore(\n    rootReducer,\n    preloadedState,\n    applyMiddleware(thunk)\n  )\n);\n\nexport default configureStore;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Root from './components/root';\nimport configureStore from './store/store';\nimport jwt_decode from 'jwt-decode';\nimport { setAuthToken } from './util/session_api_util';\nimport { logout } from './actions/session_actions';\n\nimport 'rheostat/css/rheostat.css';\nimport 'react-dates/lib/css/_datepicker.css';\nimport './components/spots/spots.css';\nimport './components/spots/reservation_form.css';\nimport './components/session/signup_login.css';\nimport \"./components/components.css\";\n\nimport ThemedStyleSheet from 'react-with-styles/lib/ThemedStyleSheet';\nimport cssInterface from 'react-with-styles-interface-css';\nimport RheostatDefaultTheme from 'rheostat/lib/themes/DefaultTheme';\nimport ReactDatesDefaultTheme from 'react-dates/lib/theme/DefaultTheme';\n\nThemedStyleSheet.registerInterface(cssInterface);\nThemedStyleSheet.registerTheme({\n  ...RheostatDefaultTheme,\n  ...ReactDatesDefaultTheme,\n});\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  let store;\n\n  if (localStorage.jwtToken) {\n    setAuthToken(localStorage.jwtToken);\n\n    const decodedUser = jwt_decode(localStorage.jwtToken);\n    const preloadedState = { session: { isAuthenticated: true, user: decodedUser, username: localStorage.currentUser } };\n                             \n    store = configureStore(preloadedState);\n\n    const currentTime = Date.now() / 1000;\n\n    if (decodedUser.exp < currentTime) {\n      store.dispatch(logout());\n      window.location.href = '/login';\n    }\n  } else {\n    store = configureStore({});\n  }\n  const root = document.getElementById('root');\n\n  ReactDOM.render(<Root store={store} />, root);\n});"],"sourceRoot":""}