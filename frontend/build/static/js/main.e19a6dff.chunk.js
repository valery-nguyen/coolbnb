(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{199:function(e,t,n){},254:function(e,t,n){e.exports=n(550)},288:function(e,t,n){},355:function(e,t,n){},441:function(e,t,n){},442:function(e,t,n){},443:function(e,t,n){},444:function(e,t,n){},535:function(e,t,n){},537:function(e,t,n){},538:function(e,t,n){},539:function(e,t,n){},540:function(e,t,n){},550:function(e,t,n){"use strict";n.r(t);var a=n(86),r=n(0),s=n.n(r),o=n(104),i=n.n(o),c=n(5),l=n(15),u=n(246),m=n(50),d=function(e){return{loggedIn:e.session.isAuthenticated}},p=(Object(m.f)(Object(c.b)(d)(function(e){var t=e.component,n=e.path,a=e.loggedIn,r=e.exact;return s.a.createElement(m.b,{path:n,exact:r,render:function(e){return a?s.a.createElement(m.a,{to:"/spots"}):s.a.createElement(t,e)}})})),Object(m.f)(Object(c.b)(d)(function(e){var t=e.component,n=e.loggedIn,a=Object(u.a)(e,["component","loggedIn"]);return s.a.createElement(m.b,Object.assign({},a,{render:function(e){return n?s.a.createElement(t,e):s.a.createElement(m.a,{to:"/spots"})}}))}))),h=n(28),f=n.n(h),v=function(e){e?f.a.defaults.headers.common.Authorization=e:delete f.a.defaults.headers.common.Authorization},g=n(88),E=n.n(g),b=function(e){return{type:"RECEIVE_SESSION_ERRORS",errors:e}},k=function(e){return function(t){return(n=e,f.a.post("/api/users/register",n)).then(function(e){var n=e.data,a=n.token,r=n.name;localStorage.setItem("jwtToken",a),localStorage.setItem("currentUser",r),v(a);var s={token:E()(a)};s.username=r,t({type:"RECEIVE_USER_SIGN_IN",currentUser:s})}).catch(function(e){t(b(e.response.data))});var n}},O=function(e){return function(t){return(n=e,f.a.post("/api/users/login",n)).then(function(e){var n=e.data,a=n.token,r=n.name;localStorage.setItem("jwtToken",a),localStorage.setItem("currentUser",r),v(a);var s={token:E()(a)};s.username=r,t({type:"RECEIVE_CURRENT_USER",currentUser:s})}).catch(function(e){t(b(e.response.data))});var n}},y=function(){return function(e){localStorage.removeItem("jwtToken"),v(!1),e({type:"RECEIVE_USER_LOGOUT"})}},S=function(e){return{type:"RECEIVE_SEARCH_STATUS",active:e}},j=function(e){return{type:"RECEIVE_BOUNDS",bounds:e}},N=function(e){return{type:"RECEIVE_LOCATION",location:e}},w=function(e){return{type:"RECEIVE_MAP_IS_ACTIVE",mapIsActive:e}},C=n(3),I=n(4),_=n(8),R=n(7),D=n(12),M=n(9),L=(n(288),n(106)),A=(n(198),n(199),function(e){function t(e){var n;return Object(C.a)(this,t),(n=Object(_.a)(this,Object(R.a)(t).call(this,e))).state={startDate:n.props.activeSearch.startDate,endDate:n.props.activeSearch.endDate},n}return Object(M.a)(t,e),Object(I.a)(t,[{key:"toggleModal",value:function(){var e=document.getElementById("dates-modal"),t=document.getElementById("guests-modal"),n=document.getElementById("price-range-modal");t.classList.contains("show-modal")&&t.classList.remove("show-modal"),n.classList.contains("show-modal")&&n.classList.remove("show-modal"),e.classList.toggle("show-modal")}},{key:"applyDateRange",value:function(e){e.preventDefault(),this.props.receiveDateRange(this.state),this.toggleModal()}},{key:"clearDateRange",value:function(e){e.preventDefault(),this.setState({startDate:null,endDate:null})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("button",{className:"modal-button",onClick:function(){return e.toggleModal()}},"Dates"),s.a.createElement("div",{className:"dates-modal",id:"dates-modal"},s.a.createElement("form",{className:""},s.a.createElement(L.DateRangePicker,{startDate:this.state.startDate,startDateId:"start-date-field",endDate:this.state.endDate,endDateId:"end-date-field",onDatesChange:function(t){var n=t.startDate,a=t.endDate;return e.setState({startDate:n,endDate:a})},focusedInput:this.state.focusedInput,onFocusChange:function(t){return e.setState({focusedInput:t})}}),s.a.createElement("br",null),s.a.createElement("div",{className:"modal-buttons"},s.a.createElement("button",{className:"date-range-picker-button",onClick:function(t){return e.clearDateRange(t)}},"Clear"),s.a.createElement("button",{className:"date-range-picker-button",onClick:function(t){return e.applyDateRange(t)}},"Apply")))))}}]),t}(s.a.Component)),V=function(e){return{type:"RECEIVE_SPOTS",spots:e}},B=function(e){return function(t){return function(e){return f.a.post("/api/spots/",e)}(e).then(function(e){return t(V(e))}).catch(function(e){return console.log(e)})}},U=function(e){return function(t){return function(e){return f.a.get("/api/spots/".concat(e))}(e).then(function(e){return t(V(e))}).catch(function(e){return console.log(e)})}},T=Object(c.b)(function(e){return{activeSearch:e.ui.activeSearch}},function(e){return{receiveDateRange:function(t){return e(function(e){return{type:"RECEIVE_DATE_RANGE",dateRange:e}}(t))},fetchSpots:function(t){return e(B(t))}}})(A),x=n(19),P=function(e){function t(e){var n;return Object(C.a)(this,t),(n=Object(_.a)(this,Object(R.a)(t).call(this,e))).state={adults:n.props.guestCount.adults,children:n.props.guestCount.children,infants:n.props.guestCount.infants},n.applyGuestCount=n.applyGuestCount.bind(Object(D.a)(n)),n}return Object(M.a)(t,e),Object(I.a)(t,[{key:"incrementValue",value:function(e){var t=this.state[e]+1;switch(e){case"children":case"infants":t>5&&(t=5);break;case"adults":t>16&&(t=16)}this.setState(Object(x.a)({},e,t)),this.addAdults()}},{key:"addAdults",value:function(){(this.state.children>=0||this.state.infants>=0)&&0===this.state.adults&&this.setState({adults:1})}},{key:"decrementValue",value:function(e){var t=this.state[e]-1;t<0&&(t=0),this.setState(Object(x.a)({},e,t))}},{key:"toggleModal",value:function(){var e=document.getElementById("guests-modal"),t=document.getElementById("dates-modal"),n=document.getElementById("price-range-modal");t.classList.contains("show-modal")&&t.classList.remove("show-modal"),n.classList.contains("show-modal")&&n.classList.remove("show-modal"),e.classList.toggle("show-modal")}},{key:"clearGuestCount",value:function(e){e.preventDefault(),this.setState({adults:0,children:0,infants:0})}},{key:"applyGuestCount",value:function(e){e.preventDefault(),0===this.state.adults+this.state.children+this.state.infants&&this.setState({adults:1}),this.props.receiveGuestCount(this.state),this.toggleModal()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("button",{className:"modal-button",onClick:function(){return e.toggleModal()}},"Guests"),s.a.createElement("div",{className:"guests-modal",id:"guests-modal"},s.a.createElement("form",null,s.a.createElement("div",{className:"incrementer"},s.a.createElement("h5",null,"Adults"),s.a.createElement("div",{className:"increment-buttons"},s.a.createElement("button",{className:"increment-button",onClick:function(t){t.preventDefault(),e.decrementValue("adults")}},"-"),s.a.createElement("h5",null," ",this.state.adults,"+"),s.a.createElement("button",{className:"increment-button",onClick:function(t){t.preventDefault(),e.incrementValue("adults")}},"+"))),s.a.createElement("div",{className:"incrementer"},s.a.createElement("h5",null," Children "),s.a.createElement("div",{className:"increment-buttons"},s.a.createElement("button",{className:"increment-button",onClick:function(t){t.preventDefault(),e.decrementValue("children")}},"-"),s.a.createElement("h5",null,this.state.children,"+"),s.a.createElement("button",{className:"increment-button",onClick:function(t){t.preventDefault(),e.incrementValue("children")}},"+"))),s.a.createElement("div",{className:"incrementer"},s.a.createElement("h5",null," Infants "),s.a.createElement("div",{className:"increment-buttons"},s.a.createElement("button",{className:"increment-button",onClick:function(t){t.preventDefault(),e.decrementValue("infants")}},"-"),s.a.createElement("h5",null,this.state.infants,"+"),s.a.createElement("button",{className:"increment-button",onClick:function(t){t.preventDefault(),e.incrementValue("infants")}},"+"))),s.a.createElement("div",{className:"modal-buttons"},s.a.createElement("button",{className:"date-range-picker-button",onClick:function(t){return e.clearGuestCount(t)}},"Clear"),s.a.createElement("button",{className:"date-range-picker-button",onClick:function(t){return e.applyGuestCount(t)}},"Apply")))))}}]),t}(s.a.Component),G=Object(c.b)(function(e){return{guestCount:e.ui.activeSearch.guestCount}},function(e){return{receiveGuestCount:function(t){return e({type:"RECEIVE_GUEST_COUNT",count:t})},fetchSpots:function(t){return e(B(t))}}})(P),F=n(248),W=n.n(F),z=(n(355),function(e){function t(e){var n;return Object(C.a)(this,t),(n=Object(_.a)(this,Object(R.a)(t).call(this,e))).state={minValue:n.props.activeSearch.priceRange.minValue,maxValue:n.props.activeSearch.priceRange.maxValue},n.changeValues=n.changeValues.bind(Object(D.a)(n)),n}return Object(M.a)(t,e),Object(I.a)(t,[{key:"changeValues",value:function(e){this.setState({minValue:e.values[0],maxValue:e.values[1]})}},{key:"toggleModal",value:function(){var e=document.getElementById("price-range-modal"),t=document.getElementById("dates-modal"),n=document.getElementById("guests-modal");t.classList.contains("show-modal")&&t.classList.remove("show-modal"),n.classList.contains("show-modal")&&n.classList.remove("show-modal"),e.classList.toggle("show-modal")}},{key:"applyPriceRange",value:function(e){e.preventDefault(),this.props.receivePriceRange(this.state),this.toggleModal()}},{key:"clearPriceRange",value:function(e){e.preventDefault(),this.setState({minValue:0,maxValue:1e3})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("button",{className:"modal-button",onClick:function(){return e.toggleModal()}},"Price"),s.a.createElement("div",{className:"price-range-modal",id:"price-range-modal"},s.a.createElement("form",null,s.a.createElement(W.a,{min:0,max:1e3,values:[0,1e3],onValuesUpdated:function(t){return e.changeValues(t)}}),s.a.createElement("div",{className:"modal-price-range"},s.a.createElement("div",null,"$",this.state.minValue),"  ",s.a.createElement("div",null,"$",this.state.maxValue)),s.a.createElement("div",{className:"modal-buttons"},s.a.createElement("button",{className:"date-range-picker-button",onClick:function(t){return e.clearPriceRange(t)}},"Clear"),s.a.createElement("button",{className:"date-range-picker-button",onClick:function(t){return e.applyPriceRange(t)}},"Apply")))))}}]),t}(s.a.Component)),K=Object(c.b)(function(e){return{activeSearch:e.ui.activeSearch}},function(e){return{receivePriceRange:function(t){return e(function(e){return{type:"RECEIVE_PRICE_RANGE",priceRange:e}}(t))},fetchSpots:function(t){return e(B(t))}}})(z),H=n(249),$=n.n(H),Y=function(e){var t=e.receiveMapIsActive,n=e.mapIsActive;return s.a.createElement("div",{className:"options-wrapper"},s.a.createElement("div",{className:"form-options-wrapper"},s.a.createElement(T,null),s.a.createElement(G,null),s.a.createElement(K,null)),s.a.createElement("div",{className:"switch-wrapper"},s.a.createElement("p",{className:"show-map-p"},"Show Map"),s.a.createElement($.a,{onChange:function(){return t(!n)},checked:n})))},q=n(71),J=n.n(q),Q=(n(441),n(22)),X=n.n(Q),Z=window.google,ee=function(e){function t(e){var n;return Object(C.a)(this,t),(n=Object(_.a)(this,Object(R.a)(t).call(this,e))).handleChange=function(e){n.setState({address:e})},n.handleSelect=function(e){n.setState({address:e}),window.map?(window.preventFetch=!0,Object(q.geocodeByAddress)(e).then(function(e){Object(q.getLatLng)(e[0]).then(function(e){var t=e.lat,n=e.lng;window.locationObj=new Z.maps.LatLng(t,n),window.map.panTo(window.locationObj)}),n.activateSearch()})):(window.preventFetch=!1,Object(q.geocodeByAddress)(e).then(function(e){return Object(q.getLatLng)(e[0])}).then(function(e){var t=e;n.props.receiveLocation(new Z.maps.LatLng(t.lat,t.lng)),n.activateSearch()}).catch(function(e){return console.error("Error",e)}))},n.state={address:""},n}return Object(M.a)(t,e),Object(I.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this;if(X.a.isEqual(e.activeSearch,this.props.activeSearch))window.markerManager&&(this.MarkerManager=window.markerManager,this.MarkerManager.updateMarkers(this.props.spots));else if(window.preventFetch){window.preventFetch=!1;var n=document.getElementById("header-search-input"),a={bounds:this.props.activeSearch.bounds,searchText:n.value,startDate:this.props.activeSearch.startDate,endDate:this.props.activeSearch.endDate,guestCount:this.props.activeSearch.guestCount,priceRange:this.props.activeSearch.priceRange};this.props.fetchSpots(a).then(function(){t.MarkerManager=window.markerManager,t.MarkerManager.updateMarkers(t.props.spots)}),"/spots"!==this.props.history.location.pathname&&this.props.history.push("/spots")}else{var r=document.getElementById("header-search-input"),s={bounds:this.props.activeSearch.bounds,searchText:r.value,startDate:this.props.activeSearch.startDate,endDate:this.props.activeSearch.endDate,guestCount:this.props.activeSearch.guestCount,priceRange:this.props.activeSearch.priceRange};this.props.fetchSpots(s),"/spots"!==this.props.history.location.pathname&&!0===this.props.activeSearch.active&&this.props.history.push("/spots")}}},{key:"activateSearch",value:function(){this.props.receiveSearchStatus(!0),this.props.receiveMapIsActive(!0)}},{key:"render",value:function(){var e;return this.props.activeSearch.active&&(e=s.a.createElement("div",null,s.a.createElement(Y,{receiveMapIsActive:this.props.receiveMapIsActive,mapIsActive:this.props.activeSearch.mapIsActive}))),s.a.createElement("div",null,s.a.createElement(J.a,{value:this.state.address,onChange:this.handleChange,onSelect:this.handleSelect},function(e){var t=e.getInputProps,n=e.suggestions,a=e.getSuggestionItemProps,r=e.loading;return s.a.createElement("div",null,s.a.createElement("form",{onSubmit:function(e){e.preventDefault()}},s.a.createElement("span",{className:"search-icon"},"\ud83d\udd0d"),s.a.createElement("input",Object.assign({id:"header-search-input"},t({placeholder:"Search | San Francisco or Pier 39",className:"location-search-input"})))),s.a.createElement("div",{className:"autocomplete-dropdown-container"},r&&s.a.createElement("div",null,"Loading..."),n.map(function(e){var t=e.active?"suggestion-item--active":"suggestion-item",n=e.active?{backgroundColor:"#fafafa",cursor:"pointer"}:{backgroundColor:"#ffffff",cursor:"pointer"};return s.a.createElement("div",a(e,{className:t,style:n}),s.a.createElement("span",null,e.description))})))}),e)}}]),t}(s.a.Component),te=Object(m.f)(ee),ne=Object(c.b)(function(e){return{activeSearch:e.ui.activeSearch,spots:Object.values(e.entities.spots)}},function(e){return{fetchSpots:function(t){return e(B(t))},receiveSearchStatus:function(t){return e(S(t))},receiveLocation:function(t){return e(N(t))},receiveBounds:function(t){return e(j(t))},receiveMapIsActive:function(t){return e(w(t))}}})(te),ae=function(e){function t(e){var n;return Object(C.a)(this,t),(n=Object(_.a)(this,Object(R.a)(t).call(this,e))).logoutUser=n.logoutUser.bind(Object(D.a)(n)),n.linkToProfile=n.linkToProfile.bind(Object(D.a)(n)),n}return Object(M.a)(t,e),Object(I.a)(t,[{key:"logoutUser",value:function(e){e.preventDefault(),this.props.logout()}},{key:"linkToProfile",value:function(){this.props.history.push("/profile")}},{key:"render",value:function(){return s.a.createElement("div",{className:"nav-menu-buttons"},s.a.createElement("button",{className:"nav-menu-button",onClick:this.linkToProfile},"Trips"),s.a.createElement("button",{className:"nav-menu-button",onClick:this.logoutUser},"Logout"))}}]),t}(s.a.Component),re=Object(m.f)(ae),se=Object(c.b)(function(e){return{}},function(e){return{logout:function(){return e(y())}}})(re),oe=function(e){function t(e){var n;return Object(C.a)(this,t),(n=Object(_.a)(this,Object(R.a)(t).call(this,e))).state={email:"",handle:"",password:"",password2:"",errors:{}},n.handleSubmit=n.handleSubmit.bind(Object(D.a)(n)),n.renderFieldErrors=n.renderFieldErrors.bind(Object(D.a)(n)),n.clearedErrors=!1,n}return Object(M.a)(t,e),Object(I.a)(t,[{key:"componentWillReceiveProps",value:function(e){!0===e.signedIn&&this.props.history.push("/login"),this.setState({errors:e.errors})}},{key:"update",value:function(e){var t=this;return function(n){return t.setState(Object(x.a)({},e,n.currentTarget.value))}}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={email:this.state.email,handle:this.state.handle,password:this.state.password,password2:this.state.password2};this.props.signup(t,this.props.history)}},{key:"renderErrors",value:function(){var e=this;return s.a.createElement("ul",null,Object.keys(this.state.errors).map(function(t,n){return s.a.createElement("li",{key:"error-".concat(n)},e.state.errors[t])}))}},{key:"renderFieldErrors",value:function(e){return this.state.errors[e]?s.a.createElement("div",{className:"error-div"},s.a.createElement("h5",{className:"field-error"},this.state.errors[e])):s.a.createElement("div",{className:"error-div"})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"login-form-container"},s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("div",{className:"login-form"},s.a.createElement("br",null),s.a.createElement("h1",{className:"session-modal-header"},"Sign up to continue"),s.a.createElement("br",null),s.a.createElement("input",{type:"text",className:"modal-input-field",value:this.state.email,onChange:this.update("email"),placeholder:"Email"}),this.renderFieldErrors("email"),s.a.createElement("input",{type:"text",className:"modal-input-field",value:this.state.handle,onChange:this.update("handle"),placeholder:"Handle"}),this.renderFieldErrors("handle"),s.a.createElement("input",{type:"password",className:"modal-input-field",value:this.state.password,onChange:this.update("password"),placeholder:"Password"}),this.renderFieldErrors("password"),s.a.createElement("input",{type:"password",className:"modal-input-field",value:this.state.password2,onChange:this.update("password2"),placeholder:"Confirm Password"}),this.renderFieldErrors("password2"),s.a.createElement("input",{className:"session-modal-submit-button",type:"submit",value:"Submit"}),s.a.createElement("div",{className:"login-modal-lower-text"},s.a.createElement("h4",null,"Already have an account?"),s.a.createElement("h4",{onClick:function(){return e.props.handleClick("login-modal")},className:"switch-between-modals"},"Log in")))))}}]),t}(s.a.Component),ie=Object(m.f)(oe),ce=Object(c.b)(function(e){return{signedIn:e.session.isSignedIn,errors:e.errors.session}},function(e){return{signup:function(t){return e(k(t))},login:function(t){return e(O(t))}}})(ie),le=function(e){function t(e){var n;return Object(C.a)(this,t),(n=Object(_.a)(this,Object(R.a)(t).call(this,e))).state={email:"",password:"",errors:{}},n.handleSubmit=n.handleSubmit.bind(Object(D.a)(n)),n.renderFieldErrors=n.renderFieldErrors.bind(Object(D.a)(n)),n.guestLogIn=n.guestLogIn.bind(Object(D.a)(n)),n}return Object(M.a)(t,e),Object(I.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({errors:e.errors})}},{key:"update",value:function(e){var t=this;return function(n){return t.setState(Object(x.a)({},e,n.currentTarget.value))}}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={email:this.state.email,password:this.state.password};this.props.login(t)}},{key:"guestLogIn",value:function(e){e.preventDefault();this.props.login({email:"valery@gmail.com",password:"california"})}},{key:"renderFieldErrors",value:function(e){return this.state.errors[e]?s.a.createElement("div",{className:"error-div"},s.a.createElement("h5",{className:"field-error"},this.state.errors[e])):s.a.createElement("div",{className:"error-div"})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"login-form-container"},s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("div",{className:"login-form"},s.a.createElement("br",null),s.a.createElement("h1",{className:"session-modal-header"},"Log in to continue"),s.a.createElement("br",null),s.a.createElement("input",{type:"text",className:"modal-input-field",value:this.state.email,onChange:this.update("email"),placeholder:"Email"}),this.renderFieldErrors("email"),s.a.createElement("input",{type:"password",className:"modal-input-field",value:this.state.password,onChange:this.update("password"),placeholder:"Password"}),this.renderFieldErrors("password"),s.a.createElement("input",{className:"session-modal-submit-button",type:"submit",value:"Submit"}),s.a.createElement("div",{className:"login-modal-lower-text"},s.a.createElement("h4",null,"Don't have an account?"),s.a.createElement("h4",{onClick:function(){return e.props.handleClick("signup-modal")},className:"switch-between-modals"},"Sign up")),s.a.createElement("div",{className:"guest-login-container"},s.a.createElement("button",{className:"guest-login",onClick:this.guestLogIn}," Guest Log In ")))),s.a.createElement("div",{onClick:function(){return e.props.handleClick("login-modal")},className:"modal-underlay"}))}}]),t}(s.a.Component),ue=Object(m.f)(le),me=Object(c.b)(function(e){return{errors:e.errors.session}},function(e){return{login:function(t){return e(O(t))}}})(ue),de=(n(442),function(e){function t(e){var n;return Object(C.a)(this,t),(n=Object(_.a)(this,Object(R.a)(t).call(this,e))).activeModal=null,n.handleClick=n.handleClick.bind(Object(D.a)(n)),n}return Object(M.a)(t,e),Object(I.a)(t,[{key:"handleClick",value:function(e){this.activeModal===e||"show-session-modal"===document.getElementById("login-modal").className.split(" ")[1]?(this.closeModal(e),this.activeModal=null,this.toggleOverlay()):null===this.activeModal?(this.activeModal=e,this.openModal(e),this.toggleOverlay()):(this.closeModal(this.activeModal),this.activeModal=e,this.openModal(e))}},{key:"closeModal",value:function(e){(document.getElementById(e)||document.getElementById("login-modal")).classList.remove("show-session-modal")}},{key:"openModal",value:function(e){document.getElementById(e).classList.add("show-session-modal")}},{key:"toggleOverlay",value:function(){document.getElementById("modal-underlay").classList.toggle("show-modal-underlay")}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"logged-out-nav-menu"},s.a.createElement("div",{className:"nav-menu-buttons"},s.a.createElement("button",{className:"nav-menu-button",onClick:function(){return e.handleClick("signup-modal")}},"Signup"),s.a.createElement("button",{className:"nav-menu-button",onClick:function(){return e.handleClick("login-modal")}},"Login")),s.a.createElement("div",{className:"session-modals"},s.a.createElement("div",{id:"signup-modal",className:"signup-modal"},s.a.createElement("button",{className:"close-modal-button",onClick:function(){return e.handleClick("signup-modal")}}," \xd7"),s.a.createElement(ce,{handleClick:this.handleClick})),s.a.createElement("div",{id:"login-modal",className:"login-modal"},s.a.createElement("button",{className:"close-modal-button",onClick:function(){return e.handleClick("login-modal")}}," \xd7"),s.a.createElement(me,{handleClick:this.handleClick})),s.a.createElement("div",{onClick:function(){return e.handleClick(e.activeModal)},id:"modal-underlay"})))}}]),t}(s.a.Component)),pe=Object(c.b)(function(e){return{}},function(e){return{}})(de),he=function(e){function t(e){var n;return Object(C.a)(this,t),(n=Object(_.a)(this,Object(R.a)(t).call(this,e))).getMenuOptions=n.getMenuOptions.bind(Object(D.a)(n)),n.linkToMainPage=n.linkToMainPage.bind(Object(D.a)(n)),n}return Object(M.a)(t,e),Object(I.a)(t,[{key:"getMenuOptions",value:function(){return this.props.loggedIn?s.a.createElement("div",{className:"nav-menu"},s.a.createElement(se,null)):s.a.createElement("div",{className:"nav-menu"},s.a.createElement(pe,null))}},{key:"linkToMainPage",value:function(){this.props.history.push("/"),this.props.receiveMapIsActive(!1),this.props.receiveSearchStatus(!1)}},{key:"render",value:function(){return s.a.createElement("div",{className:"nav-bar"},s.a.createElement("div",{className:"nav-bar-left"},s.a.createElement("h1",{onClick:this.linkToMainPage},"CoolBnb"),s.a.createElement(ne,null)),this.getMenuOptions())}}]),t}(s.a.Component),fe=Object(m.f)(he),ve=Object(c.b)(function(e){return{loggedIn:e.session.isAuthenticated}},function(e){return{logout:function(){return e(y())},receiveMapIsActive:function(t){return e(w(t))},receiveSearchStatus:function(t){return e(S(t))}}})(fe),ge=(n(443),function(e){function t(){return Object(C.a)(this,t),Object(_.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(M.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"footer-container"},s.a.createElement("div",{className:"footer"},s.a.createElement("p",null,"2019 CoolBnb, a minimal clone of Airbnb.com "),s.a.createElement("div",null,s.a.createElement("a",{href:"https://www.linkedin.com/in/valeryn/",target:"_blank"},"LinkedIn"),"|",s.a.createElement("a",{href:"https://github.com/valery-nguyen/coolbnb",target:"_blank"},"GitHub"),"|",s.a.createElement("a",{href:"https://angel.co/valeryn",target:"_blank"},"AngelList"))))}}]),t}(s.a.Component)),Ee=Object(m.f)(ge),be=(n(444),function(e){function t(e){var n;return Object(C.a)(this,t),(n=Object(_.a)(this,Object(R.a)(t).call(this,e))).rotateImage=n.rotateImage.bind(Object(D.a)(n)),n}return Object(M.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){this.rotateImage()}},{key:"rotateImage",value:function(){var e=this,t=document.getElementById("splash-page-img");t&&setTimeout(function(){"splash-page-img bg1"===t.className?t.setAttribute("class","splash-page-img bg2"):t.setAttribute("class","splash-page-img bg1"),e.rotateImage()},5e3)}},{key:"render",value:function(){return s.a.createElement("div",{className:"splash-page-container"},s.a.createElement("div",{className:"splash-page"},s.a.createElement("h1",{className:"splash-page-title"},"Book unique home and experiences."),s.a.createElement("h1",{className:"splash-page-description"},"Welcome to CoolBnb!"),s.a.createElement("img",{alt:"",id:"splash-page-img",className:"splash-page-img bg1"})),s.a.createElement(Ee,null))}}]),t}(s.a.Component)),ke=function(e){var t=e.spot;return e.mapIsActive?s.a.createElement(l.b,{className:"spots-results-list-c",key:t._id,to:"/spot/".concat(t._id)},s.a.createElement("li",{key:t._id,className:"spot-list-item-m"},s.a.createElement("div",{className:"m-spot-container"},s.a.createElement("div",{id:"spot-list-photo-container-m"},s.a.createElement("img",{alt:"",className:"spot-list-photo-m",src:t.images[0].img_url})),s.a.createElement("div",{className:"spot-list-deets"},s.a.createElement("div",{className:"spot-list-deets-desc"},s.a.createElement("p",{className:"spot-list-description-m-details"},"Entire guesthouse"),s.a.createElement("p",{className:"spot-list-description-m"},t.name),s.a.createElement("p",{className:"spot-list-description-m-details"},"Wifi | Free parking on premises | Kitchen | Hair dryer")),s.a.createElement("div",{className:"spot-list-deets-price"},s.a.createElement("p",{className:"spot-list-price-m"},"$",t.price,"/night")))))):s.a.createElement(l.b,{className:"spots-results-list-r",key:t._id,to:"/spot/".concat(t._id)},s.a.createElement("div",null,s.a.createElement("li",{key:t._id,className:"spot-list-item"},s.a.createElement("div",{id:"spot-list-photo-container"},s.a.createElement("img",{alt:"",id:"spot-list-photo",src:t.images[0].img_url})),s.a.createElement("p",{id:"spot-list-description"},t.name),s.a.createElement("p",{id:"spot-list-price"},"$",t.price,"/night"))))},Oe=(n(445),window.google),ye=function(){function e(t){Object(C.a)(this,e),this.map=t,this.markers={},this.removeMarker=this.removeMarker.bind(this),this.updateInfoWindow=this.updateInfoWindow.bind(this),this.infoWindow=new Oe.maps.InfoWindow({})}return Object(I.a)(e,[{key:"updateMarkers",value:function(e){var t=this,n={};e.forEach(function(e){return n[e._id]=e}),Object.keys(this.markers).filter(function(e){return!n[e]}).forEach(function(e){return t.removeMarker(t.markers[e])}),e.filter(function(e){return!t.markers[e._id]}).forEach(function(e){return t.createMarkerFromSpot(e)})}},{key:"removeMarker",value:function(e){this.markers[e.spotId].setMap(null),delete this.markers[e.spotId]}},{key:"updateInfoWindow",value:function(e,t){this.infoWindow.setContent(e),this.infoWindow.open(this.map,t)}},{key:"createMarkerFromSpot",value:function(e){var t=this,n={lat:e.lat,lng:e.lng},a='<a href="/#/spot/'.concat(e._id,'">')+'<div id="content"><div id="siteNotice"></div >'+'<img style="max-height: 120px; max-width: 200px; margin-bottom: 10px;" alt="" src='.concat(e.images[1].img_url,">")+'<h1 id="firstHeading" class="firstHeading" style="max-width: 200px; word-break: break-word; margin-bottom: 5px;"><b>'.concat(e.name,"</b></h1>")+'<div id="bodyContent">'+"<p>$".concat(e.price," per night</p>")+"</div></div></a>",r=new Oe.maps.Marker({position:n,map:this.map,label:{text:"$".concat(e.price),fontSize:"9px",fontWeight:"bold",color:"white"},spotId:e._id});r.addListener("click",function(){t.updateInfoWindow(a,r)}),this.markers[r.spotId]=r}}]),e}(),Se=window.google,je=function(e){function t(){return Object(C.a)(this,t),Object(_.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(M.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){var e=this,t={center:this.props.searchParams.location,zoom:14},n=this.refs.map;window.map=this.map=new Se.maps.Map(n,t),window.markerManager=this.MarkerManager=new ye(this.map),this.MarkerManager.updateMarkers(this.props.spots),this.map.addListener("bounds_changed",function(){var t=e.map.getBounds(),n=t.getSouthWest(),a=t.getNorthEast(),r={sw:{lat:n.lat(),lng:n.lng()},ne:{lat:a.lat(),lng:a.lng()}};e.props.receiveBounds(r);var s=e.map.getCenter();e.props.receiveLocation(s)})}},{key:"componentDidUpdate",value:function(e,t){X.a.isEqual(e.searchParams.location,this.props.searchParams.location)||this.MarkerManager.updateMarkers(this.props.spots)}},{key:"render",value:function(){return s.a.createElement("div",{id:"map-container",ref:"map"}," ")}}]),t}(s.a.Component),Ne=Object(m.f)(je),we=Object(c.b)(function(e){return{spots:Object.values(e.entities.spots),searchParams:e.ui.activeSearch}},function(e){return{fetchSpots:function(t){return e(B(t))},receiveLocation:function(t){return e(N(t))},receiveBounds:function(t){return e(j(t))}}})(Ne),Ce=function(e){function t(){return Object(C.a)(this,t),Object(_.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(M.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchSpots(),this.props.receiveSearchStatus(!0)}},{key:"isMapActive",value:function(){var e=document.getElementById("outer-spots-div"),t=document.getElementById("spots-results-list");if(this.props.mapIsActive)return e&&!e.classList.contains("spots-index-map-active")&&(e.classList.add("spots-index-map-active"),t.classList.add("spots-results-list-column"),t.classList.remove("spots-results-list")),s.a.createElement(we,null);e&&e.classList.contains("spots-index-map-active")&&(e.classList.remove("spots-index-map-active"),t.classList.add("spots-results-list"),t.classList.remove("spots-results-list-column"))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"spots-and-map-div"},s.a.createElement("div",{id:"outer-spots-div",className:"outer-spots-div"},this.props.spots.length?s.a.createElement("h2",{id:"spots-list-header"}," Explore all ",this.props.spots.length,"+ homes "):s.a.createElement("div",{className:"no-results"},s.a.createElement("h3",null," No results "),s.a.createElement("p",null,"To get more results, try adjusting your search by changing your dates")),s.a.createElement("div",{id:"spots-list-container"},s.a.createElement("ul",{id:"spots-results-list",className:"spots-results-list"},this.props.spots.map(function(t){return s.a.createElement(ke,{spot:t,key:t._id,mapIsActive:e.props.mapIsActive})})))),this.isMapActive())}}]),t}(s.a.Component),Ie=Object(m.f)(Ce),_e=Object(c.b)(function(e){return{spots:Object.values(e.entities.spots),active:e.ui.activeSearch.active,mapIsActive:e.ui.activeSearch.mapIsActive}},function(e){return{fetchSpots:function(t){return e(B(t))},fetchSpot:function(t){return e(U(t))},receiveSearchStatus:function(t){return e(S(t))}}})(Ie),Re=function(e){return{type:"RECEIVE_BOOKINGS",bookings:e}},De=function(e){return function(t){return function(e){return f.a.post("/api/bookings/",{user_id:e})}(e).then(function(e){return t(Re(e))}).catch(function(e){return console.log(e)})}},Me=function(e){return function(t){return function(e){return f.a.get("/api/bookings/".concat(e))}(e).then(function(e){return t(Re(e))}).catch(function(e){return console.log(e)})}},Le=function(e){return function(t){return function(e){return f.a.post("/api/bookings/create",e)}(e).then(function(e){return t(Re(e))}).catch(function(e){return t(function(e){return{type:"RECEIVE_BOOKING_ERRORS",err:e}}(e))})}},Ae=function(e){return function(t){return function(e){return f.a.delete("/api/bookings/".concat(e))}(e).then(function(e){return t(function(e){return{type:"RECEIVE_DELETED_BOOKING",booking:e}}(e))}).catch(function(e){return console.log(e)})}},Ve=n(10),Be=function(e){function t(e){var n;return Object(C.a)(this,t),(n=Object(_.a)(this,Object(R.a)(t).call(this,e))).state={startDate:null,endDate:null,guest_count:"",spot_id:n.props.spot._id,user_id:"",response_messages:null},n.handleSubmit=n.handleSubmit.bind(Object(D.a)(n)),n.isDayBlocked=n.isDayBlocked.bind(Object(D.a)(n)),n}return Object(M.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchSpotBookings(this.props.spot._id)}},{key:"update",value:function(e){var t=this;return function(n){return t.setState(Object(x.a)({},e,n.currentTarget.value))}}},{key:"renderResponseMessages",value:function(e){"success"===e.type?this.setState({response_messages:[s.a.createElement("div",{key:"success",id:"messages-success"},"Your trip was booked successfully!")]}):this.setState({response_messages:[s.a.createElement("div",{key:"errors",id:"messages-errors"},e.body?"Please verify your trip dates and guests count..":null)]})}},{key:"isDayBlocked",value:function(e){var t=e.calendar(),n=this.props.user.bookings;n=Object.values(n);var a=!1;return t=String(e.month()+1).concat("/",e.date()+1,"/",e.year()),n.forEach(function(e){var n=Ve(e.start_date),r=Ve(e.end_date),s=String(n.month()+1).concat("/",n.date()+1,"/",n.year()),o=String(r.month()+1).concat("/",r.date()+1,"/",r.year());t>=s&&t<=o&&(a=!0)}),a}},{key:"handleSubmit",value:function(e){var t=this;if(e.preventDefault(),""!==this.props.user.user_id){var n=null,a=this.state;a.user_id=this.props.user.user_id,this.props.createBooking(a).then(function(e){"RECEIVE_BOOKINGS"===(n=e).type?200===n.bookings.status&&t.renderResponseMessages({type:"success"}):"RECEIVE_BOOKING_ERRORS"===n.type&&t.renderResponseMessages({type:n.type,body:Object.values(n.err.response.data)})})}else{document.getElementById("login-modal").classList.add("show-session-modal"),document.getElementById("modal-underlay").classList.toggle("show-modal-underlay")}}},{key:"render",value:function(){var e=this;return this.props.spot?s.a.createElement("div",{className:"reserve-main"},s.a.createElement("div",{id:"reserve-inner-container"},s.a.createElement("div",{id:"reserve-price"},"$",this.props.spot.price,s.a.createElement("span",{className:"sans12"}," per night")),s.a.createElement("span",{className:"divider"}),s.a.createElement("form",{id:"reserve-form",onSubmit:this.handleSubmit},s.a.createElement("label",null,"Dates",s.a.createElement(L.DateRangePicker,{startDate:this.state.startDate,isDayBlocked:function(t){return e.isDayBlocked(t)},startDateId:"start-date-field",endDate:this.state.endDate,endDateId:"end-date-field",onDatesChange:function(t){var n=t.startDate,a=t.endDate;return e.setState({startDate:n,endDate:a})},focusedInput:this.state.focusedInput,onFocusChange:function(t){return e.setState({focusedInput:t})}})),s.a.createElement("label",null,"Guests",s.a.createElement("br",null),s.a.createElement("input",{className:"reserve-guests",onChange:this.update("guest_count"),type:"text",placeholder:"Enter number of guests"})),s.a.createElement("input",{id:"reservation-submit-button",type:"submit",value:"Book"}))),this.state.response_messages):s.a.createElement("div",null)}}]),t}(s.a.Component),Ue=Object(m.f)(Be),Te=Object(c.b)(function(e,t){return{user:{user_id:e.session.user?e.session.user.token?e.session.user.token.id:e.session.user.id:"",bookings:e.entities.bookings}}},function(e){return{createBooking:function(t){return e(Le(t))},fetchSpotBookings:function(t){return e(Me(t))}}})(Ue),xe=function(e){function t(){return Object(C.a)(this,t),Object(_.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(M.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){this.props.spot||this.props.fetchSpot(this.props.spot_id),this.props.receiveSearchStatus(!1)}},{key:"render",value:function(){return this.props.spot?s.a.createElement("div",{className:"spotshow-main-container"},s.a.createElement("div",{className:"spotshow-main"},s.a.createElement("div",{id:"spotshow-photo-container"},s.a.createElement("img",{className:"spotshow-photo-large",src:this.props.spot.images[0].img_url,alt:""}),s.a.createElement("img",{className:"spotshow-photo-large",src:this.props.spot.images[1].img_url,alt:""})),s.a.createElement("div",{id:"outer"},s.a.createElement("div",{className:"spotshow-info-column"},s.a.createElement("p",{className:"spotshow-name"},this.props.spot.name),s.a.createElement("p",{className:"spotshow-city"},this.props.spot.city," "),s.a.createElement("span",{className:"spotshow-occupancy"},"Occupancy",s.a.createElement("p",{className:"s"},this.props.spot.occupancy," guests")),s.a.createElement("div",{className:"spotshow-description"},s.a.createElement("p",null,this.props.spot.description)),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("div",{className:"policies"},s.a.createElement("br",null),s.a.createElement("p",{className:"spotshow-name"},"Policies"),s.a.createElement("div",{className:"spotshow-description"},s.a.createElement("span",{className:"spotshow-occupancy"}," House Rules "),s.a.createElement("p",null," Not safe or suitable for infants (under 2 years) and pets "),s.a.createElement("p",null," No smoking, parties, or events "),s.a.createElement("p",null," Check-in is anytime after 3PM and check out by 11AM "))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("div",{className:"policies"},s.a.createElement("br",null),s.a.createElement("span",{className:"spotshow-occupancy"}," Cancellations "),s.a.createElement("div",{className:"spotshow-description"},s.a.createElement("span",{className:"spotshow-occupancy"}," Strict - Free cancellation for 48 hours "),s.a.createElement("p",null," After that, cancel up to 7 days before check-in and get a 50% refund, minus the service fee. ")))),s.a.createElement("div",{className:"check-in-box"},s.a.createElement(Te,{spot:this.props.spot}))),s.a.createElement(Ee,null))):s.a.createElement("div",null)}}]),t}(s.a.Component),Pe=Object(m.f)(xe),Ge=Object(c.b)(function(e,t){return{spot:e.entities.spots[t.match.params.id],spot_id:t.match.params.id}},function(e){return{fetchSpots:function(t){return e(B(t))},fetchSpot:function(t){return e(U(t))},fetchSpotBookings:function(t){return e(Me(t))},receiveSearchStatus:function(t){return e(S(t))}}})(Pe),Fe=(n(535),function(e){function t(e){var n;return Object(C.a)(this,t),(n=Object(_.a)(this,Object(R.a)(t).call(this,e))).state={},n}return Object(M.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.receiveSearchStatus(!1);var t=void 0;t=this.props.currentUser.token?this.props.currentUser.token.id:this.props.currentUser.id,this.setState({}),this.props.fetchUserBookings(t).then(function(){return Object.values(e.props.bookings).forEach(function(t){e.props.fetchSpot(t.spot_id).then(function(n){e.setState(Object(x.a)({},t._id,n.spots.data[t.spot_id]))})})})}},{key:"componentDidUpdate",value:function(e){var t=this;e.history.location.pathname!==this.props.history.location.pathname&&this.props.fetchUserBookings(this.props.currentUserId).then(function(){return Object.values(t.props.bookings).forEach(function(e){t.props.fetchSpot(e.spot_id)})})}},{key:"render",value:function(){var e=this;if(!this.props.bookings)return null;if(Object.keys(this.state).length<Object.keys(this.props.bookings).length)return null;var t=this.props.bookings.map(function(t){var n=new Date(t.start_date),a=new Date(t.end_date),r=new Date(t.created_at),o=e.state[t._id].images[0].img_url;return s.a.createElement("li",{key:t._id},s.a.createElement("div",null,s.a.createElement(l.b,{key:t._id,to:"/spot/".concat(t.spot_id)},s.a.createElement("img",{className:"bookings-photo",src:o,alt:""})),s.a.createElement("div",{className:"profile-booking-text"},s.a.createElement("h5",null,e.state[t._id].name),s.a.createElement("p",null,"Booked on: ",r.getMonth()+1,"/",r.getDate(),"/",r.getFullYear()),s.a.createElement("p",null,"From: ",n.getMonth()+1,"/",n.getDate(),"/",n.getFullYear()),s.a.createElement("p",null,"Until: ",a.getMonth()+1,"/",a.getDate()+1,"/",a.getFullYear()),s.a.createElement("p",null,"Booked for ",t.guest_count," occupant(s)"))),s.a.createElement("div",{className:"profile-booking-delete-button-div"},s.a.createElement("button",{onClick:function(n){n.preventDefault(),e.props.deleteBooking(t._id)}},"Delete booking")))});return s.a.createElement("div",null,s.a.createElement("div",{className:"profile"},s.a.createElement("h2",null,"Upcoming plans"),this.props.bookings.length>0?s.a.createElement("ul",null,t):s.a.createElement("h3",null,"You have no upcoming trips. Start exploring ideas for your next trip.")),s.a.createElement(Ee,null))}}]),t}(s.a.Component)),We=Object(c.b)(function(e){return{currentUser:e.session.user,bookings:Object.values(e.entities.bookings),spots:e.entities.spots}},function(e){return{fetchUserBookings:function(t){return e(De(t))},deleteBooking:function(t){return e(Ae(t))},fetchSpotBookings:function(t){return e(Me(t))},fetchSpot:function(t){return e(U(t))},receiveSearchStatus:function(t){return e(S(t))}}})(Fe),ze=function(){return s.a.createElement("div",null,s.a.createElement(ve,null),s.a.createElement("div",null,s.a.createElement(m.d,null,s.a.createElement(m.b,{exact:!0,path:"/",component:be}),s.a.createElement(m.b,{path:"/spots",component:_e}),s.a.createElement(m.b,{path:"/spot/:id",component:Ge}),s.a.createElement(p,{exact:!0,path:"/profile",component:We}))))},Ke=function(e){var t=e.store;return s.a.createElement(c.a,{store:t},s.a.createElement(l.a,null,s.a.createElement(ze,null)))},He=n(26),$e=n(251),Ye={isAuthenticated:!1,user:{id:""}},qe=[],Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(Object.freeze(e),t.type){case"RECEIVE_SESSION_ERRORS":return t.errors;case"RECEIVE_CURRENT_USER":return qe;default:return e}},Qe=[],Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(Object.freeze(e),t.type){case"RECEIVE_BOOKING_ERRORS":return t.err.response.data;default:return e}},Ze=Object(He.c)({session:Je,bookings:Xe}),et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(Object.freeze(e),t.type){case"RECEIVE_SPOTS":return t.spots.data;default:return e}},tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(Object.freeze(e),t.type){case"RECEIVE_BOOKINGS":return t.bookings.data;case"RECEIVE_DELETED_BOOKING":var n=Object(Q.merge)({},e);return delete n[t.booking.data._id],n;default:return e}},nt=Object(He.c)({spots:et,bookings:tt,users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVE_CURRENT_USER":var n={username:t.currentUser.username,user_id:t.currentUser.token.id};return Object.assign({},e,Object(x.a)({},t.currentUser.token.id,n));case"RECEIVE_USER_SIGN_IN":var a={username:t.currentUser.username,user_id:t.currentUser.token.id};return Object.assign({},e,Object(x.a)({},t.currentUser.token.id,a));default:return e}}}),at={active:!1,startDate:null,endDate:null,guestCount:{adults:1,children:0,infants:0},priceRange:{minValue:0,maxValue:1e3},location:new window.google.maps.LatLng(37.79736054067749,-122.41654052893894),bounds:null,mapIsActive:!1},rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0;switch(Object.freeze(e),t.type){case"RECEIVE_DATE_RANGE":return Object(Q.merge)({},e,t.dateRange);case"RECEIVE_PRICE_RANGE":return Object(Q.merge)({},e,{priceRange:t.priceRange});case"RECEIVE_GUEST_COUNT":return Object(Q.merge)({},e,{guestCount:t.count});case"RECEIVE_SEARCH_STATUS":return Object(Q.merge)({},e,{active:t.active});case"RECEIVE_BOUNDS":return Object(Q.merge)({},e,{bounds:t.bounds});case"RECEIVE_LOCATION":return Object(Q.merge)({},e,{location:t.location});case"RECEIVE_MAP_IS_ACTIVE":return Object(Q.merge)({},e,{mapIsActive:t.mapIsActive});default:return e}},st=Object(He.c)({activeSearch:rt}),ot=Object(He.c)({errors:Ze,session:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVE_CURRENT_USER":return Object(a.a)({},e,{isAuthenticated:!!t.currentUser,session_id:t.currentUser.token.id,user:t.currentUser});case"RECEIVE_USER_LOGOUT":return{isAuthenticated:!1,user:void 0};case"RECEIVE_USER_SIGN_IN":return Object(a.a)({},e,{isSignedIn:!0,isAuthenticated:!!t.currentUser,session_id:t.currentUser.token.id,user:t.currentUser});default:return e}},entities:nt,ui:st}),it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(He.d)(ot,e,Object(He.a)($e.a))},ct=(n(536),n(537),n(538),n(539),n(540),n(107)),lt=n.n(ct),ut=n(252),mt=n.n(ut),dt=n(253),pt=n.n(dt),ht=n(144),ft=n.n(ht);lt.a.registerInterface(mt.a),lt.a.registerTheme(Object(a.a)({},pt.a,ft.a)),document.addEventListener("DOMContentLoaded",function(){var e;if(localStorage.jwtToken){v(localStorage.jwtToken);var t=E()(localStorage.jwtToken),n={session:{isAuthenticated:!0,user:t,username:localStorage.currentUser}};e=it(n);var a=Date.now()/1e3;t.exp<a&&(e.dispatch(y()),window.location.href="/login")}else e=it({});var r=document.getElementById("root");i.a.render(s.a.createElement(Ke,{store:e}),r)})}},[[254,1,2]]]);
//# sourceMappingURL=main.e19a6dff.chunk.js.map